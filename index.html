<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>è±Šæ´²ä½ã¿ãƒãƒé”ãŒãŠã™ã™ã‚ã™ã‚‹å¡¾ãƒ©ãƒ³ã‚­ãƒ³ã‚°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="canonical" href="index_Version18_with_reviews_3snippets_typoUp_vf_blogger_author-notes_Version4_Version16_Version8.html">
  <script>location.replace('index_Version18_with_reviews_3snippets_typoUp_vf_blogger_author-notes_Version4_Version16_Version8.html');</script>
</head>
<body>
  <p>è‡ªå‹•çš„ã«ç§»å‹•ã—ã¾ã™ã€‚ç§»å‹•ã—ãªã„å ´åˆã¯ <a href="index_Version18_with_reviews_3snippets_typoUp_vf_blogger_author-notes_Version4_Version16_Version8.html">ã“ã¡ã‚‰</a> ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</p>
</body>
</html>
</head>
<body>
<header class="site-header">
  <div class="container">
    <div class="header-flex">
      <div class="logo">
        <div class="logo-badge" aria-hidden="true">ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
        <div>
          <h1 class="site-title">è±Šæ´²ä½ã¿ãƒãƒé”ãŒãŠã™ã™ã‚ã™ã‚‹å¡¾ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h1>
          <p class="tagline">è±Šæ´²ã®ãƒãƒãŒæ›¸ã„ã¦ã¾ã™ï¼å…¬å¼ï¼‹å£ã‚³ãƒŸã§æ¯”ã¹ã‚„ã™ã„â€œç¸¦ä¸€åˆ—ãƒ©ãƒ³ã‚­ãƒ³ã‚°â€</p>
        </div>
      </div>
      <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¦‹ã‚‹ï¼ãƒœã‚¿ãƒ³ã‚’å‰Šé™¤ -->
    </div>
    <!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>è±Šæ´²ã®å¡¾ãŠã™ã™ã‚ãƒ©ãƒ³ã‚­ãƒ³ã‚°2025ï½œå°ãƒ»ä¸­ãƒ»é«˜åˆ¥æ¯”è¼ƒã€å£ã‚³ãƒŸã‚ã‚Šã€‘</title>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="description" content="è±Šæ´²åœ¨ä½ã®ãƒãƒãŒã€ã‚ãŒå®¶ã®å¡¾æ¢ã—ãƒ¡ãƒ¢ã¨å£ã‚³ãƒŸã‚’ãã‚…ã£ã¨ã¾ã¨ã‚ã¾ã—ãŸï¼å…¬å¼æƒ…å ±ï¼‹æœ€æ–°å£ã‚³ãƒŸ3ä»¶ã§â€œã„ã¾â€ãŒåˆ†ã‹ã‚‹ã€ã‚¹ãƒãƒ›ã§è¦‹ã‚„ã™ã„ç¸¦ä¸€åˆ—ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã§ã™ã€‚">
<meta name="theme-color" content="#ff8a5c">
<meta name="author" content="è±Šæ´²ã®ãƒãƒ">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300..900&family=M+PLUS+Rounded+1c:wght@300..900&display=swap" rel="stylesheet">

<style>
:root{
  --brand:#ff8a5c;--brand-soft:#ffe3d5;--brand-dark:#703b21;
  --bg:#faf8f6;--panel:#ffffff;--border:#e6e2dd;
  --text:#2f2d2a;--sub:#6f645b;--muted:#8a827a;
  --shadow:0 1px 3px rgba(0,0,0,.08),0 0 0 1px #00000008;
  --rounded:"M PLUS Rounded 1c","Noto Sans JP",system-ui,sans-serif;
  --sans:"Noto Sans JP","M PLUS Rounded 1c",system-ui,sans-serif;
  --tierA1:#ffb86b; --tierA2:#ffc78f;
  --tierB1:#55b798; --tierB2:#72d2b7;
  --tierC1:#9aa4f7; --tierC2:#b9c2ff;
  font-size:17.2px;
}
@media (max-width:640px){:root{font-size:16.8px}}
@media (max-width:480px){:root{font-size:16.4px}}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:var(--sans);font-weight:500;line-height:1.55;-webkit-font-smoothing:antialiased;font-synthesis:none;text-rendering:optimizeLegibility}
h1,h2,h3{margin:0;font-family:var(--rounded);font-weight:850;line-height:1.22;letter-spacing:.01em}
button{font:inherit;cursor:pointer}
img{display:block;max-width:100%;height:auto}
a{text-decoration:none;color:var(--brand)}
a:focus-visible,button:focus-visible{outline:2px solid #ffb28f;outline-offset:2px}

/* Layout */
.container{width:100%;max-width:880px;margin-inline:auto;padding-inline:clamp(14px,4vw,34px)}
header.site-header{padding:18px 0 22px;background:linear-gradient(130deg,#ffe1d2,#ffd5e3 48%,#f4e9ff);position:static;z-index:60;backdrop-filter:saturate(1.4) blur(12px)}
.header-flex{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}
.logo{display:flex;align-items:center;gap:1rem}
.logo-badge{width:64px;height:64px;border-radius:50%;background:#fff;display:grid;place-items:center;font-size:2.05rem;box-shadow:0 6px 22px -8px rgba(0,0,0,.35)}
.site-title{font-size:clamp(1.55rem,5.6vw,2.35rem);letter-spacing:.02em;background:linear-gradient(90deg,#ff8a5c,#ff996f 55%,#ffb390);-webkit-background-clip:text;color:transparent;font-weight:900}
.tagline{margin:.35rem 0 0;font-size:.82rem;color:var(--sub);letter-spacing:.06em;font-weight:680}
.hero-lead{margin:.85rem 0 .65rem;font-size:clamp(.92rem,2.3vw,1rem);line-height:1.7;max-width:780px;font-weight:520}
.top-actions{display:flex;gap:.8rem;flex-wrap:wrap}
.top-btn{display:inline-flex;align-items:center;gap:.55rem;background:#fff;border:1px solid var(--border);color:var(--brand-dark);padding:.72rem 1.15rem;font-size:.78rem;font-weight:760;border-radius:999px;box-shadow:0 8px 22px -10px rgba(0,0,0,.2),0 0 0 1px #00000006;transition:.25s;line-height:1}
.top-btn.primary{background:var(--brand);color:#fff;border-color:var(--brand);box-shadow:0 8px 24px -10px #ff8a5c90}
.top-btn .icon{font-size:1rem}
.top-btn:hover{background:var(--brand-soft)}
.top-btn.primary:hover{filter:brightness(.95)}

/* Blogger Intro/Outro */
.author-intro{margin:.8rem 0 0;background:linear-gradient(180deg,#fff,#fff7f2);border:1px solid var(--border);border-radius:20px;padding:1rem 1.05rem;box-shadow:var(--shadow);display:flex;gap:.85rem;align-items:flex-start}
.author-avatar{width:58px;height:58px;border-radius:50%;background:#fff;display:grid;place-items:center;box-shadow:0 6px 20px -10px rgba(0,0,0,.4);font-size:1.45rem;flex:0 0 58px}
.author-text{display:flex;flex-direction:column;gap:.28rem}
.author-text .by{font-size:.82rem;font-weight:800;color:#5b4a42;letter-spacing:.02em}
.author-text .desc{font-size:.82rem;line-height:1.7;color:#574e48}
.author-text .desc b{font-weight:820}
@media (max-width:520px){.author-intro{padding:.8rem .9rem}.author-avatar{width:52px;height:52px;font-size:1.35rem}.author-text .by{font-size:.8rem}.author-text .desc{font-size:.8rem}}

/* Filters */
.filters-wrap{margin:1.05rem 0 1.25rem;background:var(--panel);border:1px solid var(--border);border-radius:30px;padding:1.05rem 1.25rem 1.3rem;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:1.05rem}
.filters-grid{display:grid;gap:1.15rem;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
fieldset{border:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.55rem}
legend{font-size:.75rem;letter-spacing:.12em;font-weight:820;color:var(--muted);text-transform:uppercase;display:flex;align-items:center;gap:.4rem}
legend .icon{font-size:1rem}
.chip-row{display:flex;flex-wrap:wrap;gap:.6rem}
.chip{font:inherit;font-size:.78rem;padding:.66rem 1.08rem;border:1px solid var(--border);background:#fff;border-radius:999px;font-weight:760;letter-spacing:.02em;cursor:pointer;line-height:1;transition:.2s;box-shadow:0 2px 10px -8px rgba(0,0,0,.4)}
.chip:hover{background:var(--brand-soft)}
.chip.active{èƒŒæ™¯:var(--brand);color:#fff;border-color:var(--brand);box-shadow:0 0 0 2px #ffc3aa,inset 0 -2px 0 #00000010}

/* Meta line */
.meta-line{font-size:.76rem;color:var(--muted);line-height:1.5;margin-top:-.3rem}

/* List / Card */
.list{display:flex;flex-direction:column;gap:clamp(1.05rem,2.6vw,1.35rem);margin:0 0 1.6rem}
.card{position:relative;background:var(--panel);border:1px solid var(--border);border-radius:30px;padding:clamp(1.15rem,3.2vw,1.55rem) clamp(1.1rem,3.4vw,1.6rem) 1.4rem;display:flex;flex-direction:column;gap:.95rem;box-shadow:0 8px 26px -14px rgba(0,0,0,.28),0 0 0 1px #00000005;transition:.32s}
/* rank-colored left stripe */
.card::before{content:"";position:absolute;left:0;top:0;bottom:0;width:8px;border-radius:30px 0 0 30px;opacity:.95}
.card[data-tier="S"]::before{background:linear-gradient(180deg,#ff8a5c,#ffb283)}
.card[data-tier="A"]::before{background:linear-gradient(180deg,var(--tierA1),var(--tierA2))}
.card[data-tier="B"]::before{background:linear-gradient(180deg,var(--tierB1),var(--tierB2))}
.card[data-tier="C"]::before{background:linear-gradient(180deg,var(--tierC1),var(--tierC2))}
.card[data-tier="A"]{border-color:#ffd7bd}
.card[data-tier="B"]{border-color:#cfeee3}
.card[data-tier="C"]{border-color:#e3e1ed}

.card:hover{transform:translateY(-4px);box-shadow:0 14px 36px -14px rgba(0,0,0,.35),0 0 0 1px #00000010}
.card.clickable{cursor:pointer}

/* Rank badgeï¼ˆãã®ã¾ã¾ï¼‰ */
.rank-badge{position:absolute;top:.9rem;left:.9rem;background:var(--brand);color:#fff;font-weight:820;font-size:1.05rem;padding:.68rem 1rem;border-radius:20px;display:flex;flex-direction:column;gap:6px;min-width:82px;letter-spacing:.03em;line-height:1;box-shadow:0 8px 20px -8px #ff8a5c90;z-index:3}
.rank-badge .rank-num{display:flex;align-items:center;gap:.42rem}
.rank-badge .crown{filter:drop-shadow(0 2px 0 rgba(0,0,0,.1))}
.rank-badge small{font-size:.72rem;font-weight:620;opacity:.95;background:#ffffff2a;padding:4px 8px;border-radius:10px}
.rank-top-3{background:linear-gradient(135deg,#ff8a5c,#ffb283 45%,#ff9f6c)}
.card[data-tier="A"] .rank-badge{background:linear-gradient(135deg,var(--tierA1),var(--tierA2))}
.card[data-tier="B"] .rank-badge{background:linear-gradient(135deg,var(--tierB1),var(--tierB2))}
.card[data-tier="C"] .rank-badge{background:linear-gradient(135deg,var(--tierC1),var(--tierC2))}

/* Thumbnail */
.thumb-wrap{width:100%;aspect-ratio:20/9;max-height:230px;border-radius:22px;background:#f4f1ed;overflow:hidden;box-shadow:0 0 0 1px #00000010;position:relative;z-index:1}
.thumb-wrap img{width:100%;height:100%;object-fit:cover;transform:scale(1.02)}

/* Text hierarchy */
.brand-line{font-size:.82rem;font-weight:780;color:var(--muted);letter-spacing:.05em;margin-top:.15rem;display:flex;align-items:center;gap:.35rem}
.brand-line .dot{opacity:.5}
/* é¡Œåã¯å°‘ã—æ§ãˆã‚ï¼ˆå‰å›èª¿æ•´ã‚’ç¶­æŒï¼‰ */
.juku-name{font-size:clamp(1.48rem,5.4vw,2rem);margin:.12rem 0 .34rem;line-height:1.22;letter-spacing:.002em;font-weight:880}
.card.top3 .juku-name{background:linear-gradient(90deg,#3b2b28,#7d4a34 40%,#ff8a5c 90%);-webkit-background-clip:text;color:transparent}

/* Rating rowï¼ˆæ–™é‡‘ãƒ»å½¢æ…‹ã®é‡è¤‡è¡¨ç¤ºã¯å‰Šé™¤æ¸ˆã¿ï¼‰ */
.rating-row{display:flex;align-items:center;gap:.8rem;font-size:.96rem;font-weight:680;flex-wrap:wrap;margin-top:-.05rem}
.rating-pill{padding:.5em .94em;border-radius:999px;font-size:1.02rem;font-weight:860;line-height:1.05}
.rating-pill[data-level=high]{background:#e2f7ea;color:#1e6c3b}
.rating-pill[data-level=mid]{background:#fff3d6;color:#865400}
.rating-pill[data-level=low]{background:#ffe1e1;color:#b84545}

/* Summaryï¼ˆæ¦‚è¦ã¯å°‘ã—æ§ãˆã‚ï¼‰ */
.summary{font-size:.94rem;line-height:1.85;margin:0;font-weight:520}

/* Author noteï¼ˆæœ¬æ–‡ã‚‚å°‘ã—æ§ãˆã‚ï¼‰ */
.author-note{background:#fff8f4;border:1px solid #f3d3c3;border-radius:14px;padding:.72rem .9rem;display:flex;gap:.7rem;align-items:flex-start;box-shadow:0 2px 14px -10px #ff8a5c66}
.author-note .badge{flex:0 0 auto;background:#fff;border:1px solid #f3d2c3;border-radius:999px;padding:.26rem .7rem;font-size:.8rem;font-weight:840;color:#6a4b3f;line-height:1;display:inline-flex;align-items:center;gap:.4rem}
.author-note .text{font-size:.9rem;line-height:1.85}
.note-edit-btn{background:#fff;border:1px dashed #f3d2c3;color:#6a4b3f;padding:.5rem .76rem;border-radius:12px;font-size:.82rem;font-weight:760}
.note-edit-btn:hover{background:#fff2eb}
.note-inline-editor{margin-top:.55rem;display:flex;flex-direction:column;gap:.55rem}
.note-inline-editor textarea{width:100%;min-height:120px;font:inherit;font-size:.94rem;line-height:1.78;padding:.78rem .9rem;border:1px solid #e6d7ce;border-radius:12px;resize:vertical;background:#fff}
.note-inline-editor .buttons{display:flex;gap:.55rem;flex-wrap:wrap}
.note-inline-editor .btn{background:#fff;border:1px solid var(--border);padding:.56rem .96rem;border-radius:12px;font-size:.86rem;font-weight:800;color:#5f4a40}
.note-inline-editor .btn.primary{border-color:var(--brand);color:#var(--brand)}
.note-inline-editor .btn.danger{border-color:#e0b4aa;color:#a64b3e}
.note-inline-editor .btn:hover{background:#fff7f2}

/* Review snippets */
.review-snippets{display:flex;flex-direction:column;gap:.6rem;margin-top:-.1rem}
.snip{background:#fff8f4;border:1px solid #f3d3c3;padding:.76rem .92rem .76rem 1.12rem;border-radius:16px;font-size:.82rem;line-height:1.7;position:relative}
.snip:before{content:"â€œ";position:absolute;left:9px;top:5px;font-size:1.06rem;color:#e2c7bb;font-weight:800;opacity:.65}
.snip-head{display:flex;flex-wrap:wrap;align-items:center;gap:.6rem;font-size:.7rem;font-weight:760;color:#625651;margin-bottom:.24rem}
.snip-head time{opacity:.7;font-weight:560}
.snip-head .star{background:#fff1ea;border:1px solid #f3d3c3;padding:3px 6px;border-radius:8px;font-size:.62rem;color:#c4451a;font-weight:800;line-height:1}
.snip-body{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}

/* Tags */
.tags{display:flex;flex-wrap:wrap;gap:.6rem;margin-top:.25rem}
.tag{background:#f3eee9;font-size:.82rem;padding:.56em .92em;border-radius:11px;font-weight:780;letter-spacing:.02em;display:inline-flex;gap:.38rem;align-items:center}

/* Specs */
.spec-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:.9rem;margin-top:.32rem}
.spec{background:#faf9f7;border:1px solid #eee9e3;border-radius:16px;padding:.86rem 1rem;font-size:.84rem;display:flex;flex-direction:column;gap:.48rem;line-height:1.5;min-height:88px}
.spec strong{font-weight:840;color:var(--muted);font-size:.9rem;letter-spacing:.04em;display:flex;align-items:center;gap:.42rem}
.spec strong .icon{font-size:1rem}

/* Actions */
.actions{display:flex;flex-wrap:wrap;gap:.85rem;margin-top:.6rem}
.link-btn{font-size:.82rem;padding:.8rem 1.2rem;font-weight:840;border-radius:16px;border:1px solid var(--brand);background:#fff;color:#var(--brand);display:inline-flex;align-items:center;gap:.58rem;line-height:1}
.link-btn .icon{font-size:1rem}
.link-btn:hover{background:var(--brand);color:#fff}
.link-btn.primary{border-color:var(--brand);background:var(--brand);color:#fff}
/* æ–™é‡‘è©³ç´°CTAã ã‘å¤§ãã‚ï¼ˆå¡¾åã‚ˆã‚Šå°‘ã—å°ã•ã„ï¼‰ */
.link-btn.cta-pricing{font-size:clamp(1.05rem,4.8vw,1.6rem); padding:.62em 1.1em; border-radius:18px}
.link-btn.cta-pricing .icon{font-size:1.1em}

/* Notices */
.notice{padding:1.2rem 1.35rem;background:#fff6f2;border:1px dashed #ffb89a;border-radius:22px;font-size:.78rem;color:var(--brand-dark);margin:1.55rem 0;display:none}
#loadMoreWrap{display:flex;justify-content:center;margin:1.5rem 0 2.9rem}
#loadMoreBtn{background:#fff;border:1px solid var(--brand);color:#var(--brand);padding:1.05rem 2.4rem;font-size:.9rem;font-weight:850;border-radius:999px;box-shadow:0 8px 22px -10px rgba(255,138,92,.55);letter-spacing:.03em;transition:.25s}
#loadMoreBtn:hover{background:var(--brand);color:#fff}

/* Footer */
footer{padding:2.5rem 0 3.3rem;font-size:.74rem;color:var(--muted);text-align:center;line-height:1.45}

/* Detail Overlay */
.detail-overlay{position:fixed;inset:0;background:#00000055;backdrop-filter:blur(4px);display:none;align-items:flex-end;justify-content:center;z-index:400;padding:0 0 env(safe-area-inset-bottom)}
.detail-panel{width:100%;max-width:880px;background:var(--panel);border-radius:34px 34px 0 0;padding:clamp(1.1rem,2.5vw,1.55rem) clamp(1.1rem,3vw,1.75rem) 1.75rem;box-shadow:0 -8px 30px -12px rgba(0,0,0,.4);max-height:90dvh;display:flex;flex-direction:column;gap:1.25rem;overflow:auto;animation:panelUp .45s cubic-bezier(.65,.05,.36,1)}
@keyframes panelUp{0%{transform:translateY(46px);opacity:0}100%{transform:translateY(0);opacity:1}}
.detail-head{display:flex;align-items:flex-start;justify-content:space-between;gap:1.2rem}
.detail-head h2{margin:0;font-size:clamp(1.25rem,4.6vw,1.75rem);line-height:1.25;letter-spacing:.01em;font-weight:780}
.close-detail{background:#fff;border:1px solid var(--border);padding:.7rem 1.05rem;font-size:.76rem;font-weight:680;border-radius:16px;cursor:pointer}
.close-detail:hover{background:#f4f2f0}
.detail-meta{display:flex;flex-wrap:wrap;gap:.6rem}
.detail-meta .pill{background:#f3eee9;font-size:.72rem;padding:.52em .9em;border-radius:14px;font-weight:680}
.section-title{margin:.15rem 0 .55rem;font-size:clamp(1rem,3.2vw,1.12rem);letter-spacing:.045em;font-weight:750}
.detail-grid{display:grid;gap:.9rem;grid-template-columns:repeat(auto-fit,minmax(190px,1fr))}
.detail-item{background:#faf9f7;border:1px solid #eee9e3;border-radius:16px;padding:.8rem .95rem;font-size:.78rem;display:flex;flex-direction:column;gap:.4rem}
.detail-item strong{font-size:.82rem;color:var(--sub);font-weight:760;letter-spacing:.04em}
.map-wrap{width:100%;aspect-ratio:20/9;max-height:300px;border-radius:22px;overflow:hidden;background:#f1efec;position:relative}
.map-wrap iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
.map-skeleton{position:absolute;inset:0;display:grid;place-items:center;font-size:.78rem;color:#f1efec;letter-spacing:.05em}

/* Admin toolbar */
.admin-tools{margin:.2rem 0 1rem;display:none}
.admin-tools .bar{display:flex;flex-wrap:wrap;gap:.5rem;background:#fff;border:1px dashed #f3d2c3;border-radius:14px;padding:.6rem .75rem}
.admin-tools .bar .btn{background:#fff;border:1px solid #e8d8cf;padding:.5rem .85rem;border-radius:10px;font-size:.76rem;font-weight:680;color:#5f4a40}
.admin-tools .bar .btn:hover{background:#fff7f2}

/* Responsive */
@media (max-width:520px){
  .card{padding:1.08rem .98rem 1.2rem}
  .juku-name{font-size:clamp(1.38rem,6.2vw,1.64rem)}
  .summary{font-size:.9rem}
  .snip{font-size:.82rem}
  .thumb-wrap{aspect-ratio:19/9}
  .rank-badge{font-size:.98rem;min-width:78px;padding:.64rem .94rem}
  .brand-line{font-size:.86rem}
  .rating-row{font-size:1rem}
  .rating-pill{font-size:1.06rem}
  .tag{font-size:.86rem}
}
@media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}
</style>
</head>
<body>
<header class="site-header">
  <div class="container">
    <div class="header-flex">
      <div class="logo">
        <div class="logo-badge" aria-hidden="true">ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
        <div>
          <h1 class="site-title">è±Šæ´²ã®å¡¾ãŠã™ã™ã‚ãƒ©ãƒ³ã‚­ãƒ³ã‚°2025ï½œå°ãƒ»ä¸­ãƒ»é«˜åˆ¥æ¯”è¼ƒã€å£ã‚³ãƒŸã‚ã‚Šã€‘</h1>
          <p class="tagline">è±Šæ´²ã®ãƒãƒãŒæ›¸ã„ã¦ã¾ã™ï¼å…¬å¼ï¼‹å£ã‚³ãƒŸã§æ¯”ã¹ã‚„ã™ã„â€œç¸¦ä¸€åˆ—ãƒ©ãƒ³ã‚­ãƒ³ã‚°â€</p>
        </div>
      </div>
      <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¦‹ã‚‹ï¼ãƒœã‚¿ãƒ³ã‚’å‰Šé™¤ -->
    </div>

    <div class="author-intro" aria-label="ã‚µã‚¤ãƒˆé‹å–¶è€…ã®ç´¹ä»‹">
      <div class="author-avatar" aria-hidden="true">ğŸ“</div>
      <div class="author-text">
        <div class="by">ã¯ã˜ã‚ã¾ã—ã¦ã€è±Šæ´²ã«ä½ã‚€ãƒãƒã§ã™ï¼</div>
        <p class="desc">ã‚ãŒå®¶ã®å¡¾æ¢ã—ã§é›†ã‚ãŸãƒ¡ãƒ¢ã‚„è±Šæ´²ã®ãƒãƒå‹ã®æƒ…å ±ã‚’å…ƒã«ã€å…¬å¼æƒ…å ±ã¨å†…è¼ªã®ã‚³ãƒ¡ãƒ³ãƒˆã€è©•ä¾¡ã‚’ãƒ—ãƒ©ã‚¹ã—ã¦<b>ã‚µã‚¯ãƒƒã¨æ¯”è¼ƒã§ãã‚‹å½¢</b>ã«ã—ã¦ã¿ã¾ã—ãŸã€‚<br>ã€Œã¾ãšã¯é›°å›²æ°—ã¤ã‹ã¿ãŸã„â€¦ï¼ã€ã¨ã„ã†æ–¹ã«ã€<b>æ–™é‡‘ãƒ»ã‚¢ã‚¯ã‚»ã‚¹ãƒ»å£ã‚³ãƒŸ</b>ã®é †ã§è¦‹ã‚„ã™ãä¸¦ã¹ã¦ã„ã¾ã™ã€‚å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™â™ª</p>
      </div>
    </div>

    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼æ–‡ï¼ˆhero-leadï¼‰ã‚’å‰Šé™¤ -->
  </div>
</header>

<main class="container">
  <div id="adminTools" class="admin-tools" aria-hidden="true">
    <div class="bar">
      <button class="btn" id="exportNotesBtn">ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆã‚’JSONã§æ›¸ãå‡ºã—</button>
      <button class="btn" id="importNotesBtn">JSONã‚’èª­ã¿è¾¼ã¿</button>
      <button class="btn" id="clearNotesBtn">ã™ã¹ã¦å‰Šé™¤</button>
      <span style="font-size:.76rem;color:#6b5a51">ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ä¸­ï¼ˆ?edit=1ã§è¡¨ç¤ºï¼‰</span>
    </div>
  </div>

  <!-- Filters -->
  <section class="filters-wrap" aria-label="çµã‚Šè¾¼ã¿">
    <form id="filtersForm" onsubmit="return false;">
      <div class="filters-grid">
        <fieldset>
          <legend><span class="icon" aria-hidden="true">ğŸ’</span>å­¦å¹´</legend>
          <div class="chip-row" data-filter="grade">
            <button type="button" class="chip active" data-value="all">ã™ã¹ã¦</button>
            <button type="button" class="chip" data-value="elementary">å°</button>
            <button type="button" class="chip" data-value="junior">ä¸­</button>
            <button type="button" class="chip" data-value="high">é«˜</button>
          </div>
        </fieldset>
        <fieldset>
          <legend><span class="icon" aria-hidden="true">ğŸ§­</span>æŒ‡å°å½¢æ…‹</legend>
          <div class="chip-row" data-filter="type">
            <button type="button" class="chip active" data-value="all">ã™ã¹ã¦</button>
            <button type="button" class="chip" data-value="å€‹åˆ¥æŒ‡å°">å€‹åˆ¥</button>
            <button type="button" class="chip" data-value="é›†å›£æŒ‡å°">é›†å›£</button>
            <button type="button" class="chip" data-value="å°‘äººæ•°æŒ‡å°">å°‘äººæ•°</button>
            <button type="button" class="chip" data-value="ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰">ãƒã‚¤ãƒ–ãƒª</button>
            <button type="button" class="chip" data-value="æ˜ åƒ">æ˜ åƒ</button>
          </div>
        </fieldset>
        <fieldset>
          <legend><span class="icon" aria-hidden="true">ğŸ“</span>ã‚¨ãƒªã‚¢ (ä¸ç›®)</legend>
          <div class="chip-row" data-filter="location">
            <button type="button" class="chip active" data-value="all">å…¨åŸŸ</button>
            <button type="button" class="chip" data-value="pair12">1ãƒ»2ä¸ç›®</button>
            <button type="button" class="chip" data-value="pair34">3ãƒ»4ä¸ç›®</button>
            <button type="button" class="chip" data-value="pair56">5ãƒ»6ä¸ç›®</button>
          </div>
        </fieldset>
      </div>
    </form>
    <div id="meta" class="meta-line"></div>
  </section>

  <!-- List -->
  <section id="listSection" aria-label="ãƒ©ãƒ³ã‚­ãƒ³ã‚°">
    <div id="list" class="list" role="list" aria-live="polite"></div>
    <div id="noResults" class="notice">ã”ã‚ã‚“ãªã•ã„â€¦è©²å½“ã™ã‚‹å¡¾ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚æ¡ä»¶ã‚’å°‘ã—ã‚†ã‚‹ã‚ã¦ã€ã‚‚ã†ä¸€åº¦ãŸã‚ã—ã¦ã¿ã¦ãã ã•ã„ã­ï¼</div>
    <div id="errorBox" class="notice"></div>
    <div id="loadMoreWrap">
      <button id="loadMoreBtn" style="display:none">ã‚‚ã£ã¨è¦‹ã‚‹</button>
    </div>
  </section>

  <!-- Blogger outro -->
  <section class="author-outro" aria-label="é‹å–¶è€…ã‚ˆã‚Š">
    <h3>ã“ã“ã¾ã§èª­ã‚“ã§ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ï¼â€” è±Šæ´²ã®ãƒãƒã‚ˆã‚Š</h3>
    <p class="para">ã“ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã¯ã€<b>å…¬å¼ã‚µã‚¤ãƒˆãƒ»å®Ÿä½“é¨“ãƒ»ä¿è­·è€…ã®å£°</b>ã‚’ãƒŸãƒƒã‚¯ã‚¹ã—ã¦ã€ç¾åœ°ã‚ˆã‚Šã®è¦–ç‚¹ã§ä½œã£ã¦ã¾ã™ï¼<br>æœ€æ–°ã®æ–™é‡‘ã‚„æ™‚é–“å‰²ã¯å¤‰ã‚ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§ã€æ°—ã«ãªã£ãŸã¨ã“ã‚ã¯<b>å…¬å¼ã‚µã‚¤ãƒˆã‚‚å¿…ãšãƒã‚§ãƒƒã‚¯</b>ã—ã¦ã¿ã¦ãã ã•ã„ã­ï¼</p>
    <div class="sign">
      <span aria-hidden="true">ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
      <span>
        é‹å–¶ï¼šè±Šæ´²ä½ã¾ã„å…ƒæ°—ãƒ•ã‚¡ãƒŸãƒªãƒ¼<br>
        ãƒãƒãƒ»çŠ¬ãŒå¤§å¥½ãï¼ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢ãªå°‚æ¥­ä¸»å©¦ï¼<br>
        ãƒ‘ãƒ‘ãƒ»ãƒ–ãƒ­ã‚°ã‚’æ›¸ãã“ã¨ã¯ã‚ã¾ã‚Šãªã„ãŒã€ãã®åˆ†å®¶æ—ã‚’æ”¯ãˆã¦ã‚‹ç¸ã®ä¸‹ã®åŠ›æŒã¡ï¼<br>
        é•·ç”·ãƒ»ç¤¾ä¼šäººä¸€å¹´ç›®ï¼35ãƒµå›½è¨ªå•çµŒé¨“ã€èªå­¦ã‚’æ´»ã‹ã—ã¦ã€ç¤¾ä¼šäººå¥®é—˜ä¸­ï¼<br>
        æ¬¡å¥³ãƒ»çµ¶è³›å¤§å­¦ç”Ÿï¼åŒ»å­¦å¤§å­¦åœ¨å­¦ä¸­ã§å¤§å¤‰ãªå‹‰å¼·é ‘å¼µã‚Šä¸­ï¼<br>
        ä¸‰å¥³ãƒ»é’æ˜¥è¬³æ­Œä¸­ï¼ãŠå…„ã¡ã‚ƒã‚“ã«æ†§ã‚Œã¦æµ·å¤–ã®å¤§å­¦ã§ã‚„ã‚ŠãŸã„äº‹ã®ç‚ºã«çµ¶è³›å‹‰å¼·ä¸­ï¼
      </span>
    </div>
    <p class="mini">å®¶æ—ç·å‡ºã§ã€é‹å–¶ã—ã¦ã‚‹ã®ã§ä»–ã®ã‚µã‚¤ãƒˆã‚‚ç›®ã‚’é€šã—ã¦é ‚ã‘ãŸã‚‰å¬‰ã—ã„ã§ã™ï¼</p>
  </section>
</main>

<footer>&copy; 2025 è±Šæ´²å¡¾ãƒŠãƒ“ï½œè±Šæ´²ã®ãƒãƒãŒæ›¸ã„ã¦ã¾ã™ï¼</footer>

<!-- Detail Overlayï¼ˆæ®‹ç½®ãƒ»é€šå¸¸æœªä½¿ç”¨ï¼‰ -->
<div class="detail-overlay" id="detailOverlay" aria-hidden="true">
  <div class="detail-panel" role="dialog" aria-modal="true" aria-labelledby="detailTitle">
    <div class="detail-head">
      <h2 id="detailTitle"></h2>
      <button class="close-detail" id="closeDetail" aria-label="é–‰ã˜ã‚‹">é–‰ã˜ã‚‹ âœ•</button>
    </div>
    <div id="detailMeta" class="detail-meta"></div>
    <div class="map-wrap" id="detailMapWrap">
      <div class="map-skeleton" id="mapSkeleton">ãƒãƒƒãƒ—ã‚’èª­ã¿è¾¼ã¿ä¸­â€¦å°‘ã—ã ã‘å¾…ã£ã¦ãã ã•ã„ã­ï¼</div>
    </div>
    <section>
      <h3 class="section-title">ã–ã£ãã‚Šæ¦‚è¦</h3>
      <p id="detailSummary" style="font-size:.82rem;line-height:1.7;margin:.25rem 0 .25rem"></p>
    </section>
    <section>
      <h3 class="section-title">åŸºæœ¬æƒ…å ±</h3>
      <div class="detail-grid" id="detailGrid"></div>
    </section>
    <section id="detailReviewsSection">
      <h3 class="section-title">ã¿ã‚“ãªã®å£ã‚³ãƒŸ</h3>
      <div class="review-toolbar">
        <select id="reviewSort">
          <option value="newest">æ–°ç€é †ï¼ˆæœ€è¿‘ã®å£°ã‹ã‚‰ï¼‰</option>
          <option value="high">è©•ä¾¡ãŒé«˜ã„é †</option>
          <option value="low">è©•ä¾¡ãŒä½ã„é †</option>
          <option value="long">é•·æ–‡é †ï¼ˆã˜ã£ãã‚Šï¼‰</option>
        </select>
      </div>
      <div class="review-cards" id="reviewCards"></div>
      <button id="loadMoreReviews" style="display:none">ã•ã‚‰ã«èª­ã‚€</button>
      <div class="empty-reviews" id="emptyReviews" style="display:none">å£ã‚³ãƒŸã¯ã¾ã è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã‚ˆã‹ã£ãŸã‚‰ã¾ãŸã®ããã«æ¥ã¦ãã ã•ã„ã­ï¼</div>
    </section>
    <div class="detail-actions" id="detailActions"></div>
  </div>
</div>

<script>
/* ===== ãƒ˜ãƒ«ãƒ‘ãƒ¼ ===== */
const $id = (id)=>document.getElementById(id);

/* ===== è¨­å®š ===== */
const EDIT_MODE = new URLSearchParams(location.search).get('edit') === '1';
const NOTE_STORAGE_KEY = 'toyosu_author_notes_v1';

/* ===== ãƒ‡ãƒ¼ã‚¿ï¼ˆ30ä»¶å†…è”µï¼‰ ===== */
const data = [
  { originalRank:1,brand:"æ „å…‰ã‚¼ãƒŸãƒŠãƒ¼ãƒ«",name:"æ „å…‰ã‚¼ãƒŸãƒŠãƒ¼ãƒ« è±Šæ´²æ ¡",slug:"eikoh-toyosu",location:"è±Šæ´²4ä¸ç›®",rating:4.2,priceFrom:15200,priceText:"15,200å††ã€œ",url:"https://www.eikoh-seminar.com/",grades:["elementary","junior","high"],type:"é›†å›£æŒ‡å°",style:["ä¸­å­¦å—é¨“","è‡ªç¿’å®¤"],summary:"é›£é–¢ä¸­ã‚’ç›®æŒ‡ã™ã”å®¶åº­ã«ã´ã£ãŸã‚Šï¼é¢å€’è¦‹ã®è‰¯ã•ãŒé­…åŠ›ã§ã€å®¿é¡Œã‚„è£œç¿’ã®æµã‚Œã‚‚ä¸å¯§ã«ãƒ•ã‚©ãƒ­ãƒ¼ã€‚è‡ªç¿’å®¤ã‚‚ä½¿ã„ã‚„ã™ãã€è¦ªã¨ã—ã¦çŠ¶æ³ãŒè¿½ã„ã‚„ã™ã„ã®ãŒå®‰å¿ƒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚",access:"é§…å¾’æ­©5åˆ†",img:"https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=600&h=338&fit=crop",reviews:[{author:"ä¿è­·è€…A",rating:5,date:"2025-06-05",text:"é¢è«‡ã¨è£œç¿’ã®æµã‚ŒãŒæ•´ç†ã•ã‚Œè¿·ã‚ãªããªã£ãŸã€‚"}, {author:"å°6ç”Ÿ",rating:4,date:"2025-05-30",text:"å®¿é¡Œã¯å¤šã„ã‘ã©çŸ­å†Šè£œç¿’ãŒã‚ã‚‹ã®ã§å–ã‚Šã“ã¼ã—ãŒæ¸›ã‚‹ã€‚"}, {author:"ä¿è­·è€…B",rating:4,date:"2025-05-22",text:"å¯è¦–åŒ–ãƒ¬ãƒãŒç´°ã‹ããƒ•ã‚©ãƒ­ãƒ¼ã—ã‚„ã™ã„ã€‚"}] },
  { originalRank:2,brand:"æ˜å…‰ç¾©å¡¾",name:"æ˜å…‰ç¾©å¡¾ è±Šæ´²æ•™å®¤",slug:"meiko-toyosu",location:"è±Šæ´²1ä¸ç›®",rating:4.1,priceFrom:13200,priceText:"13,200å††ã€œ",url:"https://www.meikogijuku.jp/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["æŸ”è»Ÿ","å®šæœŸå¯¾ç­–"],summary:"1å¯¾1ã§æŸ”è»Ÿã«å‹•ã‘ã‚‹ã‹ã‚‰ã€éƒ¨æ´»ã‚„ç¿’ã„äº‹ã¨ä¸¡ç«‹ã—ã‚„ã™ã„ã€‚é¢è«‡ãŒã“ã¾ã‚ã§ã€ã¤ã¾ãšãã«æ°—ã¥ãã®ãŒæ—©ã„ã®ã‚‚å¥½å°è±¡ã€‚ãƒ†ã‚¹ãƒˆå‰ã ã‘å¼·åŒ–ã€ã¿ãŸã„ãªä½¿ã„æ–¹ã‚‚ã‚¢ãƒªã§ã™ã€‚",access:"é§…å¾’æ­©3åˆ†",img:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600&h=338&fit=crop",reviews:[{author:"ä¸­2ç”Ÿ",rating:4,date:"2025-05-23",text:"å­¦ç¿’ãƒ­ã‚°ã§åã‚Šã«æ°—ã¥ã‘ã‚‹ã€‚"}, {author:"ä¿è­·è€…E",rating:5,date:"2025-06-01",text:"æŒ¯æ›¿åˆ¶åº¦ãŒéƒ¨æ´»ã‚·ãƒ¼ã‚ºãƒ³ã«åŠ©ã‹ã£ãŸã€‚"}] },
  { originalRank:3,brand:"SAPIX",name:"SAPIX è±Šæ´²æ ¡",slug:"sapix-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:4.6,priceFrom:20900,priceText:"20,900å††ã€œ",url:"https://www.sapix.co.jp/",grades:["elementary"],type:"é›†å›£æŒ‡å°",style:["æœ€é›£é–¢","æ¼”ç¿’é‡"],summary:"ã¨ã«ã‹ãæ¼”ç¿’é‡ãŸã£ã·ã‚Šã§ã€ãƒã‚¤ãƒ¬ãƒ™ãƒ«ãªæ€è€ƒåŠ›ãŒé›ãˆã‚‰ã‚Œã¾ã™ã€‚ç·Šå¼µæ„Ÿã¯ã‚ã‚‹ã‘ã©ã€ä¼¸ã³ã‚‹å­ã¯ã‚°ãƒ³ã¨ä¼¸ã³ã‚‹ã‚¿ã‚¤ãƒ—ã€‚æœ€é›£é–¢å¿—æœ›ãªã‚‰ã¾ãšã¯ã“ã“ã‚’ãƒã‚§ãƒƒã‚¯ã€‚",access:"é§…å¾’æ­©7åˆ†",img:"https://images.unsplash.com/photo-1509062522246-3755977927d7?w=600&h=338&fit=crop",reviews:[{author:"å°6ç”Ÿ",rating:5,date:"2025-05-31",text:"ã‚¯ãƒ©ã‚¹æ›¿ãˆãŒç·Šå¼µæ„Ÿã‚’ä¿ã£ã¦ãã‚Œã‚‹ã€‚"}, {author:"ä¿è­·è€…H",rating:4,date:"2025-05-18",text:"é ˜åŸŸã”ã¨ã®è‰²åˆ†ã‘ãŒå¾©ç¿’å„ªå…ˆåº¦ã‚’æ˜ç¢ºã«ã—ã¦ãã‚Œã‚‹ã€‚"}] },
  { originalRank:4,brand:"æ±é€²ãƒã‚¤ã‚¹ã‚¯ãƒ¼ãƒ«",name:"æ±é€²ãƒã‚¤ã‚¹ã‚¯ãƒ¼ãƒ« è±Šæ´²æ ¡",slug:"toshin-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:3.9,priceFrom:77000,priceText:"77,000å††ã€œ",url:"https://www.toshin.com/",grades:["high"],type:"æ˜ åƒ",style:["å¤§å­¦å—é¨“","æ˜ åƒæˆæ¥­"],summary:"æ˜ åƒï¼‹æ‹…ä»»æŒ‡å°ã®ã‚»ãƒƒãƒˆã§ã€è‹¦æ‰‹ãªå˜å…ƒã‚’è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§å·»ãè¿”ã—ã‚„ã™ã„ã€‚ã‚¢ãƒ—ãƒªç®¡ç†ãŒåˆã†å­ã¯ã©ã‚“ã©ã‚“é€²ã‚ã‚‰ã‚Œã‚‹ã€‚éƒ¨æ´»ãŒå¿™ã—ãã¦ã‚‚â€œç©ºãæ™‚é–“å­¦ç¿’â€ãŒãƒãƒã‚Œã°å¼·ã„ã§ã™ã€‚",access:"é§…ç›´çµ",img:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=600&h=338&fit=crop",reviews:[{author:"é«˜3ç”Ÿ",rating:4,date:"2025-06-02",text:"å‘ä¸Šå¾—ç‚¹ã‚°ãƒ©ãƒ•ãŒãƒšãƒ¼ã‚¹ç¶­æŒã«å½¹ç«‹ã¤ã€‚"}] },
  { originalRank:5,brand:"æ—©ç¨²ç”°ã‚¢ã‚«ãƒ‡ãƒŸãƒ¼",name:"æ—©ç¨²ç”°ã‚¢ã‚«ãƒ‡ãƒŸãƒ¼ è±Šæ´²æ ¡",slug:"waseda-toyosu",location:"è±Šæ´²3ä¸ç›®",rating:3.7,priceFrom:17600,priceText:"17,600å††ã€œ",url:"https://www.waseda-ac.co.jp/",grades:["elementary","junior","high"],type:"é›†å›£æŒ‡å°",style:["ç†±æ„æŒ‡å°","ä¸­å­¦å—é¨“"],summary:"ç†±é‡é«˜ã‚ã®æˆæ¥­ã§ã€å­ã©ã‚‚ã®ã‚¹ã‚¤ãƒƒãƒã‚’å…¥ã‚Œã¦ãã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã€‚èª²é¡Œã¯å¤šã‚ã ã‘ã©ã€ãã®åˆ†â€œã‚„ã‚Šåˆ‡ã£ãŸæ„Ÿâ€ãŒã¤ãã‚„ã™ã„ã€‚é›°å›²æ°—ãŒåˆã†å­ã¯ä¼¸ã³ãŒæ—©ã„å°è±¡ã§ã™ã€‚",access:"é§…å¾’æ­©8åˆ†",img:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&h=338&fit=crop",reviews:[{author:"å°5ç”Ÿ",rating:4,date:"2025-05-14",text:"æˆæ¥­ã®å‹¢ã„ã§çœ ããªã‚‰ãªã„ã€‚"}] },
  { originalRank:6,brand:"å€‹åˆ¥æ•™å®¤ã®ãƒˆãƒ©ã‚¤",name:"å€‹åˆ¥æ•™å®¤ã®ãƒˆãƒ©ã‚¤ è±Šæ´²æ ¡",slug:"try-toyosu",location:"è±Šæ´²1ä¸ç›®",rating:3.5,priceFrom:16280,priceText:"16,280å††ã€œ",url:"https://www.kobekyo.com/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["AIåˆ†æ","1å¯¾1"],summary:"AIè¨ºæ–­ã§å¼±ç‚¹ã‚’è¦‹ãˆã‚‹åŒ–â†’1å¯¾1ã§ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆè£œå¼·ã®æµã‚ŒãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã€‚ç†è§£åº¦ã«åˆã‚ã›ã¦èª¿æ•´ã§ãã‚‹ã‹ã‚‰ã€ç„¡ç†ãªãç¶™ç¶šã—ã‚„ã™ã„ã€‚å®¶åº­å­¦ç¿’ã®é“ç­‹ã‚‚ä½œã‚Šã‚„ã™ã„ã§ã™ã€‚",access:"é§…å¾’æ­©4åˆ†",img:"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=600&h=338&fit=crop",reviews:[{author:"ä¸­1ç”Ÿ",rating:4,date:"2025-05-16",text:"AIè¨ºæ–­ã®è‰²ãƒãƒƒãƒ—ã§ã‚„ã‚‹ã“ã¨ãŒæ˜ç¢ºã€‚"}] },
  { originalRank:7,brand:"è‡¨æµ·ã‚»ãƒŸãƒŠãƒ¼",name:"è‡¨æµ·ã‚»ãƒŸãƒŠãƒ¼ è±Šæ´²æ ¡",slug:"rinkai-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:3.8,priceFrom:13200,priceText:"13,200å††ã€œ",url:"https://www.rinkaiseminar.co.jp/",grades:["elementary","junior","high"],type:"é›†å›£æŒ‡å°",style:["å®šæœŸå¯¾ç­–","é«˜æ ¡å—é¨“"],summary:"å­¦æ ¡ã®ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã«å¯„ã‚Šæ·»ã£ãŸâ€œå®šæœŸãƒ†ã‚¹ãƒˆå¯¾ç­–â€ãŒå¼·ã¿ã€‚ç›´å‰æœŸã®è¿½ã„è¾¼ã¿ã‚‚æ‰‹åšãã€æå‡ºç‰©ã‚„å‹‰å¼·è¨ˆç”»ã¾ã§ç›®é…ã‚Šã€‚å†…ç”³ã‚¢ãƒƒãƒ—ã‚’ç‹™ã†ãªã‚‰å€™è£œã«å…¥ã‚ŒãŸã„å¡¾ã€‚",access:"é§…å¾’æ­©6åˆ†",img:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&h=338&fit=crop",reviews:[{author:"ä¸­2ç”Ÿ",rating:4,date:"2025-05-12",text:"ç›´å‰è¬›åº§ã§ä¸»è¦ç§‘ãŒä¼¸ã³ãŸã€‚"}] },
  { originalRank:8,brand:"å››è°·å­¦é™¢",name:"å››è°·å­¦é™¢ è±Šæ´²æ ¡",slug:"yotsuya-toyosu",location:"è±Šæ´²4ä¸ç›®",rating:3.6,priceFrom:25000,priceText:"25,000å††ã€œ",url:"https://www.yotsuyagakuin.com/",grades:["high"],type:"ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰",style:["å¤§å­¦å—é¨“","å€‹åˆ¥+é›†å›£"],summary:"ç§‘ç›®åˆ¥Ã—æ®µéšåˆ¥ã§ã€è‡ªåˆ†ã®ãƒ¬ãƒ™ãƒ«ã«åˆã‚ã›ã¦ä¸€æ­©ãšã¤ç©ã¿ä¸Šã’ã€‚ã‚ã‹ã‚‰ãªã„æ‰€ã‚’ãã®ã¾ã¾ã«ã—ãªã„è¨­è¨ˆãŒå®‰å¿ƒã€‚é›£åº¦ã®å‡¸å‡¹ãŒã‚ã‚‹å­ã«ã‚‚åˆã„ã‚„ã™ã„ã§ã™ã€‚",access:"é§…å¾’æ­©5åˆ†",img:"https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=600&h=338&fit=crop",reviews:[{author:"é«˜2ç”Ÿ",rating:4,date:"2025-04-25",text:"æ®µéšåˆ¤å®šãƒ†ã‚¹ãƒˆãŒæ€ ã‘é˜²æ­¢ã«ãªã‚‹ã€‚"}] },
  { originalRank:9,brand:"æ£®å¡¾",name:"æ£®å¡¾ è±Šæ´²æ ¡",slug:"morijuku-toyosu",location:"è±Šæ´²5ä¸ç›®",rating:3.4,priceFrom:10800,priceText:"10,800å††ã€œ",url:"https://www.morijuku.com/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["å­¦æ ¡æº–æ‹ ","åŸºç¤å›ºã‚"],summary:"1å¯¾2ã®å€‹åˆ¥ã§ã€å­¦æ ¡ã®å†…å®¹ã‚’â€œç¢ºå®Ÿã«â€å®šç€ã•ã›ã‚‹ã®ãŒå¾—æ„ã€‚åŸºç¤ã‚’å›ºã‚ãŸã„æ™‚æœŸã«ã¡ã‚‡ã†ã©è‰¯ã„ã€‚æ–™é‡‘ã‚‚ç©ã‚„ã‹ã§é€šã‚ã›ã‚„ã™ã„ã®ãŒå¬‰ã—ã„ã¨ã“ã‚ã€‚",access:"é§…å¾’æ­©3åˆ†",img:"https://images.unsplash.com/photo-1497633762265-9d179a990aa6?w=600&h=338&fit=crop",reviews:[{author:"ä¿è­·è€…M",rating:3,date:"2025-04-30",text:"åŸºç¤ã¯å®‰å®šã€‚å¿œç”¨ã¯è‡ªå®…ã§è£œã†å¿…è¦ã€‚"}] },
  { originalRank:10,brand:"å€‹åˆ¥æŒ‡å°å¡¾ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰",name:"å€‹åˆ¥æŒ‡å°å¡¾ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ è±Šæ´²æ ¡",slug:"standard-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:3.2,priceFrom:8800,priceText:"8,800å††ã€œ",url:"https://std-ie.jp/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["ä½ä¾¡æ ¼","ç¿’æ…£åŒ–"],summary:"é€šã„ã‚„ã™ã„ä¾¡æ ¼ã§â€œå­¦ç¿’ã®ç¿’æ…£ã¥ã‘â€ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã€‚ã¾ãšã¯é€±ã®å‹‰å¼·ãƒªã‚ºãƒ ã‚’ä½œã‚ŠãŸã„ã”å®¶åº­ã«ã€‚å†…å®¹ã¯åŸºç¤ä¸­å¿ƒã§ã€ã¯ã˜ã‚ã®ä¸€æ­©ã«ã¡ã‚‡ã†ã©è‰¯ã„ã§ã™ã€‚",access:"é§…å¾’æ­©9åˆ†",img:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=600&h=338&fit=crop",reviews:[{author:"ä¿è­·è€…N",rating:4,date:"2025-05-05",text:"è²»ç”¨ã‚’æŠ‘ãˆã¤ã¤ãƒšãƒ¼ã‚¹ãŒä½œã‚ŒãŸã€‚"}] },
  { originalRank:11,brand:"å­¦ç ”æ•™å®¤",name:"å­¦ç ”æ•™å®¤ è±Šæ´²æ•™å®¤",slug:"gakken-toyosu",location:"è±Šæ´²6ä¸ç›®",rating:3.3,priceFrom:8800,priceText:"8,800å††ã€œ",url:"https://www.889100.com/",grades:["elementary","junior"],type:"å°‘äººæ•°æŒ‡å°",style:["åŸºç¤åŠ›","ç¿’æ…£"],summary:"ãƒ—ãƒªãƒ³ãƒˆÃ—åå¾©ã§â€œã§ãã‚‹â€ã‚’ç©ã¿é‡ã­ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã€‚æ€¥ã«æˆç¸¾ã‚’çˆ†ä¸Šã’â€¦ã¨ã„ã†ã‚ˆã‚Šã€ã˜ã‚ã£ã¨åº•ä¸Šã’ã€‚ä½å­¦å¹´ã€œä¸­å­¦ã®åŸºç¤å›ºã‚ã«å‘ã„ã¦ã„ã¾ã™ã€‚",access:"é§…å¾’æ­©12åˆ†",img:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:12,brand:"å…¬æ–‡å¼",name:"å…¬æ–‡å¼ è±Šæ´²3ä¸ç›®æ•™å®¤",slug:"kumon-toyosu3",location:"è±Šæ´²3ä¸ç›®",rating:3.1,priceFrom:7700,priceText:"7,700å††ã€œ",url:"https://www.kumon.ne.jp/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["è‡ªå­¦è‡ªç¿’","ãƒ—ãƒªãƒ³ãƒˆ"],summary:"è‡ªåˆ†ã§ã©ã‚“ã©ã‚“é€²ã‚ã‚‹å­ã«ã¯ãƒãƒã‚‹æ–¹å¼ã€‚å°ã•ãªç©ã¿ä¸Šã’ãŒè‡ªä¿¡ã«ã¤ãªãŒã‚Šã‚„ã™ã„ã€‚è¨ˆç®—ãƒ»èª­ã¿ã®åŸºç¤ä½“åŠ›ã¥ãã‚Šã«å¼·ã„å°è±¡ã§ã™ã€‚",access:"é§…å¾’æ­©10åˆ†",img:"https://images.unsplash.com/photo-1596496050827-8299e0220de1?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:13,brand:"æ „å…‰ã‚¼ãƒŸãƒŠãƒ¼ãƒ«",name:"æ „å…‰ã‚¼ãƒŸãƒŠãƒ¼ãƒ« è±Šæ´²4ä¸ç›®æ ¡",slug:"eikoh-toyosu4",location:"è±Šæ´²4ä¸ç›®",rating:4.1,priceFrom:15400,priceText:"15,400å††ã€œ",url:"https://www.eikoh-seminar.com/",grades:["elementary","junior","high"],type:"é›†å›£æŒ‡å°",style:["å€‹åˆ¥ãƒ•ã‚©ãƒ­ãƒ¼","ä¸­å­¦å—é¨“"],summary:"ã‚¯ãƒ©ã‚¹ã‚µã‚¤ã‚ºãŒå¤§ãã™ããªã„ã®ã§ã€å…ˆç”Ÿã®ç›®ãŒå±Šãã‚„ã™ã„ã€‚è³ªå•ã—ã‚„ã™ã„é›°å›²æ°—ã§ã€å–ã‚Šã“ã¼ã—ã®æ‹¾ã„ç›´ã—ãŒã—ã‚„ã™ã„ã®ãŒé­…åŠ›ã€‚",access:"é§…å¾’æ­©8åˆ†",img:"https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:14,brand:"æ˜å…‰ç¾©å¡¾",name:"æ˜å…‰ç¾©å¡¾ è±Šæ´²2ä¸ç›®æ•™å®¤",slug:"meiko-toyosu2",location:"è±Šæ´²2ä¸ç›®",rating:3.9,priceFrom:12800,priceText:"12,800å††ã€œ",url:"https://www.meikogijuku.jp/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["å°è¦æ¨¡","æŸ”è»Ÿ"],summary:"å­¦ç¿’é¢è«‡ã‚„æŒ¯ã‚Šè¿”ã‚Šã‚·ãƒ¼ãƒˆã§â€œä»Šã©ã“ã«ã„ã‚‹ã‹â€ãŒè¦‹ãˆã‚„ã™ã„ã€‚äºˆå®šå¤‰æ›´ã«ã‚‚æŸ”è»Ÿã§ã€å¿™ã—ã„ã”å®¶åº­ã§ã‚‚ç¶šã‘ã‚„ã™ã„å°è±¡ã§ã™ã€‚",access:"é§…å¾’æ­©12åˆ†",img:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:15,brand:"å€‹åˆ¥æ•™å®¤ã®ãƒˆãƒ©ã‚¤",name:"å€‹åˆ¥æ•™å®¤ã®ãƒˆãƒ©ã‚¤ è±Šæ´²5ä¸ç›®æ ¡",slug:"try-toyosu5",location:"è±Šæ´²5ä¸ç›®",rating:3.3,priceFrom:14800,priceText:"14,800å††ã€œ",url:"https://www.kobekyo.com/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["1å¯¾1","æŠ‘ãˆã‚æ–™é‡‘"],summary:"ã¾ãšã¯1å¯¾1ã‚’ä½“é¨“ã—ã¦ã¿ãŸã„â€¦ã¨ã„ã†æ™‚ã«é¸ã³ã‚„ã™ã„ä¾¡æ ¼å¸¯ã€‚è‹¦æ‰‹ã ã‘ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆã§è£œå¼·ã€ã‚‚ã‚„ã‚Šã‚„ã™ã„ã€‚é§…ã‹ã‚‰å°‘ã—æ­©ãã®ã§é€šå­¦ãƒ«ãƒ¼ãƒˆã¯è¦ç¢ºèªã€‚",access:"é§…å¾’æ­©15åˆ†",img:"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:16,brand:"æ±äº¬å€‹åˆ¥æŒ‡å°å­¦é™¢",name:"æ±äº¬å€‹åˆ¥æŒ‡å°å­¦é™¢ è±Šæ´²æ•™å®¤",slug:"tkg-toyosu",location:"è±Šæ´²3ä¸ç›®",rating:4.0,priceFrom:17600,priceText:"17,600å††ã€œ",url:"https://www.tkg-jp.com/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["1å¯¾2","æŸ”è»Ÿ"],summary:"è¬›å¸«ã¨ç›¸æ€§ã‚’åˆã‚ã›ã‚„ã™ãã€æ™‚é–“å¤‰æ›´ã«ã‚‚å¼·ã„ã‚¿ã‚¤ãƒ—ã€‚å®šæœŸãƒ†ã‚¹ãƒˆã€œå—é¨“ã¾ã§å¹…åºƒãâ€œç©´åŸ‹ã‚â€ãŒã—ã‚„ã™ã„ã§ã™ã€‚",access:"é§…å¾’æ­©7åˆ†",img:"https://images.unsplash.com/photo-1503676367288-45e48ab332ed?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:17,brand:"ãƒŠãƒ“å€‹åˆ¥æŒ‡å°å­¦é™¢",name:"ãƒŠãƒ“å€‹åˆ¥æŒ‡å°å­¦é™¢ è±Šæ´²æ ¡",slug:"navi-toyosu",location:"è±Šæ´²1ä¸ç›®",rating:3.5,priceFrom:9900,priceText:"9,900å††ã€œ",url:"https://www.navi-school.com/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["1å¯¾2","å­¦æ ¡æº–æ‹ "],summary:"å­¦æ ¡ã®ãƒ¯ãƒ¼ã‚¯é€£å‹•ã§â€œå®¿é¡Œã®è³ªâ€ã‚’ä¸Šã’ã‚„ã™ã„ã€‚ã¾ãšã¯åŸºç¤å›ºã‚ã‹ã‚‰å§‹ã‚ãŸã„ã¨ãã«ã€‚",access:"é§…å¾’æ­©6åˆ†",img:"https://images.unsplash.com/photo-1513258496099-48168024aec0?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:18,brand:"ã‚¹ã‚¯ãƒ¼ãƒ«IE",name:"ã‚¹ã‚¯ãƒ¼ãƒ«IE è±Šæ´²æ ¡",slug:"ie-toyosu",location:"è±Šæ´²4ä¸ç›®",rating:3.8,priceFrom:13200,priceText:"13,200å††ã€œ",url:"https://www.schoolie-net.jp/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["å€‹æ€§åˆ¥æŒ‡å°","å®šæœŸå¯¾ç­–"],summary:"æ€§æ ¼ãƒ»å­¦ç¿’ã‚¿ã‚¤ãƒ—è¨ºæ–­ã§â€œåˆã†å‹‰å¼·æ³•â€ã‚’ææ¡ˆã€‚ã‚„ã‚Šæ–¹ãŒãƒãƒã‚‹ã¨ä¸€æ°—ã«å›ã‚Šã¯ã˜ã‚ã¾ã™ã€‚",access:"é§…å¾’æ­©5åˆ†",img:"https://images.unsplash.com/photo-1523580494863-6f3031224c94?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:19,brand:"å€‹åˆ¥æŒ‡å°Axis",name:"å€‹åˆ¥æŒ‡å°Axis è±Šæ´²æ ¡",slug:"axis-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:3.6,priceFrom:12100,priceText:"12,100å††ã€œ",url:"https://axis-kobetsu.jp/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["1å¯¾1","åŸºç¤ã€œå—é¨“"],summary:"æ˜ åƒï¼‹å€‹åˆ¥ã®ä½µç”¨ã‚‚ã—ã‚„ã™ãã€ç§‘ç›®ã”ã¨ã«èª¿æ•´ã—ã‚„ã™ã„ã®ãŒâ—ã€‚è‹¦æ‰‹è£œå¼·ã®æœ€åˆã®ä¸€æ‰‹ã«ã€‚",access:"é§…å¾’æ­©6åˆ†",img:"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:20,brand:"ena",name:"ena è±Šæ´²æ ¡",slug:"ena-toyosu",location:"è±Šæ´²5ä¸ç›®",rating:3.7,priceFrom:9900,priceText:"9,900å††ã€œ",url:"https://www.ena.co.jp/",grades:["elementary","junior"],type:"é›†å›£æŒ‡å°",style:["éƒ½ç«‹ä¸­å¯¾ç­–","é«˜æ ¡å—é¨“"],summary:"éƒ½ç«‹ä¸­ãƒ»éƒ½ç«‹é«˜å¯¾ç­–ãŒå¾—æ„ã€‚è¨˜è¿°ãƒ»ä½œæ–‡ã®æ›¸ãæ–¹ã‚’ä¸å¯§ã«ç©ã¿ä¸Šã’ãŸã„å­ã«ã€‚",access:"é§…å¾’æ­©8åˆ†",img:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:21,brand:"æ—¥èƒ½ç ”",name:"æ—¥èƒ½ç ” è±Šæ´²æ ¡",slug:"niko-toyosu",location:"è±Šæ´²3ä¸ç›®",rating:4.3,priceFrom:19800,priceText:"19,800å††ã€œ",url:"https://www.nichinoken.co.jp/",grades:["elementary"],type:"é›†å›£æŒ‡å°",style:["ä¸­å­¦å—é¨“","ä½“ç³»å­¦ç¿’"],summary:"ãƒ†ã‚­ã‚¹ãƒˆãŒä½“ç³»çš„ã§å¾©ç¿’ãŒã—ã‚„ã™ã„ã€‚ã‚³ãƒ„ã‚³ãƒ„å‹ã®å­ãŒå®‰å®šã—ã¦ä¼¸ã³ã‚„ã™ã„å°è±¡ã§ã™ã€‚",access:"é§…å¾’æ­©7åˆ†",img:"https://images.unsplash.com/photo-1460518451285-97b6aa326961?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:22,brand:"å¸‚é€²å­¦é™¢",name:"å¸‚é€²å­¦é™¢ è±Šæ´²æ•™å®¤",slug:"ichishin-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:3.6,priceFrom:15180,priceText:"15,180å††ã€œ",url:"https://www.ichishin.co.jp/",grades:["elementary","junior"],type:"é›†å›£æŒ‡å°",style:["å®šæœŸå¯¾ç­–","å—é¨“åŸºç¤"],summary:"â€œæˆ»ã‚Šå­¦ç¿’â€ãŒã—ã‚„ã™ã„ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ ã€‚è‹¦æ‰‹å˜å…ƒã‚’è¦‹ç›´ã—ãªãŒã‚‰å—é¨“åŸºç¤ã‚’å›ºã‚ã¾ã™ã€‚",access:"é§…å¾’æ­©6åˆ†",img:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:23,brand:"ä»£ã€…æœ¨å€‹åˆ¥æŒ‡å°å­¦é™¢",name:"ä»£ã€…æœ¨å€‹åˆ¥æŒ‡å°å­¦é™¢ è±Šæ´²æ ¡",slug:"yoyogi-toyosu",location:"è±Šæ´²6ä¸ç›®",rating:3.4,priceFrom:11000,priceText:"11,000å††ã€œ",url:"https://www.yoyogi-group.com/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["1å¯¾2","å®šæœŸãƒ†ã‚¹ãƒˆ"],summary:"éƒ¨æ´»ç”Ÿã§ã‚‚é€šã„ã‚„ã™ã„æ™‚é–“è¨­å®šã€‚æå‡ºç‰©ã‚„ãƒ¯ãƒ¼ã‚¯ç®¡ç†ã‚’ä¸€ç·’ã«å›ã—ãŸã„å­ã«åˆã„ã¾ã™ã€‚",access:"é§…å¾’æ­©10åˆ†",img:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:24,brand:"æ­¦ç”°å¡¾",name:"æ­¦ç”°å¡¾ è±Šæ´²æ ¡",slug:"takeda-toyosu",location:"è±Šæ´²4ä¸ç›®",rating:4.0,priceFrom:33000,priceText:"33,000å††ã€œ",url:"https://www.takeda.tv/",grades:["high"],type:"å€‹åˆ¥æŒ‡å°",style:["é€†è»¢åˆæ ¼","è‡ªå­¦ç®¡ç†"],summary:"â€œæˆæ¥­ã‚’ã—ãªã„â€ã§æœ‰åã€‚å¾¹åº•ã—ãŸè‡ªå­¦ç®¡ç†ã§ã€å‚è€ƒæ›¸ãƒ«ãƒ¼ãƒˆã‚’å›ºã‚ã‚‹ã‚¿ã‚¤ãƒ—ã®å—é¨“ã«ã€‚",access:"é§…å¾’æ­©7åˆ†",img:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:25,brand:"ãƒ“ã‚¶ãƒ“",name:"æ „å…‰ã®å€‹åˆ¥ãƒ“ã‚¶ãƒ“ è±Šæ´²æ ¡",slug:"visavis-toyosu",location:"è±Šæ´²4ä¸ç›®",rating:4.0,priceFrom:16500,priceText:"16,500å††ã€œ",url:"https://www.eikoh-vis-a-vis.com/",grades:["elementary","junior"],type:"å€‹åˆ¥æŒ‡å°",style:["æ „å…‰ç³»","ä¸­å­¦å—é¨“"],summary:"æ „å…‰ã‚¼ãƒŸã®å€‹åˆ¥ç‰ˆã€‚é›†å›£ã¨å€‹åˆ¥ã®ä½µç”¨ã§â€œå¼±ç‚¹ç©´åŸ‹ã‚â€ãŒã—ã‚„ã™ã„ã®ãŒé­…åŠ›ã§ã™ã€‚",access:"é§…å¾’æ­©6åˆ†",img:"https://images.unsplash.com/photo-1523580494863-6f3031224c94?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:26,brand:"æ—©ç¨²ç”°ã‚¢ã‚«ãƒ‡ãƒŸãƒ¼å€‹åˆ¥é€²å­¦é¤¨",name:"æ—©ç¨²ç”°ã‚¢ã‚«ãƒ‡ãƒŸãƒ¼å€‹åˆ¥é€²å­¦é¤¨ è±Šæ´²æ ¡",slug:"waseda-kobetsu-toyosu",location:"è±Šæ´²3ä¸ç›®",rating:3.9,priceFrom:22000,priceText:"22,000å††ã€œ",url:"https://www.waseda-ac.co.jp/kobetsu/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["ä¸­å­¦å—é¨“","é«˜æ ¡å—é¨“"],summary:"é›†å›£ã®ç†±é‡ã‚’ä¿ã¡ã¤ã¤ã€å€‹åˆ¥ã§å¼±ç‚¹ã‚’è£œå¼·ã€‚å¿—æœ›æ ¡åˆ¥ã®å¾®èª¿æ•´ãŒã—ã‚„ã™ã„ã§ã™ã€‚",access:"é§…å¾’æ­©8åˆ†",img:"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:27,brand:"TOMAS",name:"TOMAS è±Šæ´²æ ¡",slug:"tomas-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:4.4,priceFrom:39600,priceText:"39,600å††ã€œ",url:"https://www.tomas.co.jp/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["å®Œå…¨1å¯¾1","å—é¨“å¯¾ç­–"],summary:"ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰å€‹å®¤ã®å®Œå…¨1å¯¾1ã€‚å¿—æœ›æ ¡ã‹ã‚‰é€†ç®—ã—ã¦â€œè¦ç‚¹ã ã‘â€ã‚’é«˜é€Ÿã§è©°ã‚ã¾ã™ã€‚",access:"é§…å¾’æ­©4åˆ†",img:"https://images.unsplash.com/photo-1460518451285-97b6aa326961?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:28,brand:"æ²³åˆå¡¾ãƒãƒŠãƒ“ã‚¹",name:"æ²³åˆå¡¾ãƒãƒŠãƒ“ã‚¹ è±Šæ´²æ ¡",slug:"manavis-toyosu",location:"è±Šæ´²2ä¸ç›®",rating:3.8,priceFrom:26400,priceText:"26,400å††ã€œ",url:"https://www.manavis.com/",grades:["high"],type:"æ˜ åƒ",style:["å¤§å­¦å—é¨“","æ˜ åƒæˆæ¥­"],summary:"æ˜ åƒÃ—ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚¿ã‚¤ãƒ ã§å‹‰å¼·ã®â€œè©°ã¾ã‚Šâ€ã‚’è§£æ¶ˆã€‚éƒ¨æ´»ã¨ä¸¡ç«‹ã—ãŸã„é«˜3ç”Ÿã«ã€‚",access:"é§…å¾’æ­©5åˆ†",img:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:29,brand:"Eikoh LiNKs",name:"Eikoh LiNKs è±Šæ´²æ ¡",slug:"eikoh-links-toyosu",location:"è±Šæ´²4ä¸ç›®",rating:4.0,priceFrom:15400,priceText:"15,400å††ã€œ",url:"https://www.eikoh-seminar.com/links/",grades:["elementary","junior"],type:"å€‹åˆ¥æŒ‡å°",style:["AIæ´»ç”¨","1å¯¾1"],summary:"AIæ¼”ç¿’ã§â€œè‹¦æ‰‹ã ã‘â€ã‚’åŠ¹ç‡å›åã€‚é›†å›£ã¨å€‹åˆ¥ã®æ©‹æ¸¡ã—å½¹ã¨ã—ã¦ã‚‚ä½¿ã„ã‚„ã™ã„ã§ã™ã€‚",access:"é§…å¾’æ­©6åˆ†",img:"https://images.unsplash.com/photo-1509062522246-3755977927d7?w=600&h=338&fit=crop",reviews:[] },
  { originalRank:30,brand:"ãƒˆãƒ©ã‚¤ãƒ—ãƒ©ã‚¹",name:"å€‹åˆ¥æŒ‡å°ãƒˆãƒ©ã‚¤ãƒ—ãƒ©ã‚¹ è±Šæ´²æ ¡",slug:"tryplus-toyosu",location:"è±Šæ´²5ä¸ç›®",rating:3.5,priceFrom:13200,priceText:"13,200å††ã€œ",url:"https://www.try-plus.com/",grades:["elementary","junior","high"],type:"å€‹åˆ¥æŒ‡å°",style:["1å¯¾2","å­¦æ ¡æº–æ‹ "],summary:"ä¾¡æ ¼ã‚’æŠ‘ãˆã¤ã¤å€‹åˆ¥ã§ã—ã£ã‹ã‚Šã€‚ã¾ãšã¯æå‡ºç‰©ç®¡ç†ã¨å°ãƒ†ã‚¹ãƒˆã®ç‚¹æ•°ã‚¢ãƒƒãƒ—ã‹ã‚‰ï¼",access:"é§…å¾’æ­©9åˆ†",img:"https://images.unsplash.com/photo-1513258496099-48168024aec0?w=600&h=338&fit=crop",reviews:[] }
];

/* ===== ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¸€è¨€ ===== */
const defaultNotes = {
  "eikoh-toyosu":"æ•™å®¤é•·ã®ãƒ•ã‚©ãƒ­ãƒ¼ãŒä¸å¯§ã€‚å®¿é¡Œã¯ã‚„ã‚„å¤šã‚ã§ã‚‚â€œå›ã—æ–¹â€ã‚’æ±ºã‚ã‚‹ã¨è² æ‹…ãŒä¸‹ãŒã‚Šã¾ã—ãŸã€‚è‡ªç¿’å®¤ã‚’ã†ã¾ãä½¿ãˆã‚‹å­ã¯ä¼¸ã³ãŒé€Ÿã„ã§ã™ã€‚",
  "meiko-toyosu":"æŒ¯æ›¿ãŒæŸ”è»Ÿã§éƒ¨æ´»ã£å­ã§ã‚‚ç¶šã‘ã‚„ã™ã„ã€‚é¢è«‡ãŒã“ã¾ã‚ãªã®ã§â€œä»Šã®å¼±ç‚¹â€ãŒè¦ªã«ã‚‚è¦‹ãˆã‚„ã™ã„ã®ãŒå®‰å¿ƒã€‚",
  "sapix-toyosu":"æ¼”ç¿’é‡ãŒåœ§å€’çš„ã€‚åˆã†å­ã¯ä¸€æ°—ã«ä¼¸ã³ã¾ã™ã€‚å®¶åº­ã§ã¯â€œç¿Œæ—¥15åˆ†Ã—å°åˆ†ã‘å¾©ç¿’â€ãŒåŠ¹ãã¾ã—ãŸã€‚",
  "toshin-toyosu":"æ˜ åƒï¼‹æ‹…ä»»æŒ‡å°ã§ãƒšãƒ¼ã‚¹ç®¡ç†ãŒæ˜ç¢ºã€‚ã‚¢ãƒ—ãƒªç®¡ç†ã«æŠµæŠ—ãŒãªã„ã‚¿ã‚¤ãƒ—ã«å‘ãã€‚æœã‚„ã‚¹ã‚­ãƒæ™‚é–“ã®ä½¿ã„æ–¹ãŒã‚«ã‚®ã€‚",
  "waseda-toyosu":"æˆæ¥­ã®ç†±é‡ã§å‰å‘ãã«ã€‚èª²é¡Œã¯å¤šã‚ãªã®ã§â€œçµ‚ã‚ã‚‰ã›ã‚‹æ›œæ—¥â€ã‚’å›ºå®šã™ã‚‹ã¨å›ã—ã‚„ã™ã„ã§ã™ã€‚",
  "try-toyosu":"1å¯¾1ã§ç†è§£åº¦ã«åˆã‚ã›ã¦å¾®èª¿æ•´ã€‚AIè¨ºæ–­ã®è¦‹ãˆã‚‹åŒ–ãŒä¾¿åˆ©ã€‚å°ã•ãªé”æˆã‚’ç©ã‚€ã¨ç¶™ç¶šã—ã‚„ã™ã„å°è±¡ã€‚",
  "rinkai-toyosu":"å®šæœŸãƒ†ã‚¹ãƒˆå¯¾ç­–ãŒå…·ä½“çš„ã€‚æå‡ºç‰©ã®ç®¡ç†ã¾ã§å¯„ã‚Šæ·»ã„ã‚ã‚Šã€‚å†…ç”³ã‚¢ãƒƒãƒ—ã‚’ç‹™ã†æ™‚æœŸã«â—ã€‚",
  "yotsuya-toyosu":"æ®µéšåˆ¥ã§æˆ»ã‚Šå­¦ç¿’ãŒã—ã‚„ã™ã„è¨­è¨ˆã€‚ç§‘ç›®ã”ã¨ã®å‡¹å‡¸ãŒã‚ã‚‹å­ã§ã‚‚æ­©å¹…èª¿æ•´ã—ã‚„ã™ã„ã®ãŒè‰¯ã„ã¨ã“ã‚ã€‚",
  "morijuku-toyosu":"1å¯¾2ã§åŸºç¤ã®å®šç€ã‚’ã—ã£ã‹ã‚Šã€‚å¿œç”¨ã¯å®¿é¡Œã§ä¸€å·¥å¤«ã™ã‚‹ã¨ã‚¹ãƒ ãƒ¼ã‚ºã€‚è²»ç”¨æ„Ÿã‚‚ç©ã‚„ã‹ã§å§‹ã‚ã‚„ã™ã„ã§ã™ã€‚",
  "standard-toyosu":"ã¾ãšã¯å­¦ç¿’ç¿’æ…£ã¥ã‘ã«ã€‚ä¾¡æ ¼ãŒæŠ‘ãˆã‚ã§â€œé€±ã®ãƒªã‚ºãƒ â€ã‚’ä½œã‚‹ç”¨é€”ã«ç›¸æ€§ãŒè‰¯ã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚",
  "gakken-toyosu":"ãƒ—ãƒªãƒ³ãƒˆåå¾©ã§â€œã§ããŸâ€ã‚’ç©ã¿ä¸Šã’ã€‚ä½å­¦å¹´ã€œä¸­å­¦ã®åŸºç¤ã¥ãã‚Šã«å‘ãã€‚ç„¦ã‚‰ãšã‚³ãƒ„ã‚³ãƒ„ã‚¿ã‚¤ãƒ—ã«â—ã€‚",
  "kumon-toyosu3":"è‡ªå­¦ã§é€²ã‚ãŸã„å­ã«ã€‚è¨ˆç®—ãƒ»èª­ã¿ã®åœŸå°ä½œã‚Šã§å°ã•ãªæˆåŠŸä½“é¨“ã‚’ç©ã‚ã‚‹ã®ãŒé­…åŠ›ã€‚",
  "eikoh-toyosu4":"è³ªå•ã—ã‚„ã™ã„ç©ºæ°—ã§å–ã‚Šã“ã¼ã—ã‚’æ‹¾ã„ã‚„ã™ã„ã€‚ä¸­å—ã®åŸºç¤å›ºã‚æœŸã«ãƒãƒã‚‹ã¨å¼·ã„ã§ã™ã€‚",
  "meiko-toyosu2":"é¢è«‡ã¨æŒ¯ã‚Šè¿”ã‚Šã§ç¾åœ¨åœ°ãŒè¦‹ãˆã‚„ã™ã„ã€‚äºˆå®šå¤‰æ›´ã«ã‚‚å¼·ãã€å¿™ã—ã„æ™‚æœŸã‚‚ç¶šã‘ã‚„ã™ã„ã€‚",
  "try-toyosu5":"1å¯¾1ã‚’â€œãŠè©¦ã—â€ã—ã‚„ã™ã„ä¾¡æ ¼å¸¯ã€‚è‹¦æ‰‹å˜å…ƒã ã‘ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆã§è£œå¼·ã™ã‚‹ä½¿ã„æ–¹ãŒåˆã„ã¾ã™ã€‚",
  "tkg-toyosu":"è¬›å¸«ã®ç›¸æ€§åˆã‚ã›ãŒä¸å¯§ã€‚å®šæœŸã€œå—é¨“ã¾ã§ç©´åŸ‹ã‚ãŒã—ã‚„ã™ã„ä¸‡èƒ½å‹ã®å€‹åˆ¥ã¨ã„ã†å°è±¡ã€‚",
  "navi-toyosu":"å­¦æ ¡ãƒ¯ãƒ¼ã‚¯é€£å‹•ã§å®¿é¡Œã®è³ªã‚’ä¸Šã’ã‚„ã™ã„ã€‚ã¾ãšã¯åŸºç¤ã¨æå‡ºç‰©ã®ç®¡ç†ã‹ã‚‰æ•´ãˆãŸã„ã”å®¶åº­ã«ã€‚",
  "ie-toyosu":"å­¦ç¿’ã‚¿ã‚¤ãƒ—è¨ºæ–­ã§â€œåˆã†ã‚„ã‚Šæ–¹â€ã‚’ææ¡ˆã€‚ã‚„ã‚Šæ–¹ãŒãƒãƒã‚‹ã¨ä¸€æ°—ã«å›ã‚Šå§‹ã‚ã¾ã™ã€‚",
  "axis-toyosu":"æ˜ åƒï¼‹å€‹åˆ¥ã®ä½µç”¨ãŒã—ã‚„ã™ã„ã€‚ç§‘ç›®ã”ã¨ã®èª¿æ•´ãŒåŠ¹ãã®ã§è‹¦æ‰‹è£œè£œå¼·ã®æœ€åˆã®ä¸€æ‰‹ã«ã€‚",
  "ena-toyosu":"éƒ½ç«‹ä¸­ãƒ»éƒ½ç«‹é«˜å¯¾ç­–ã«å¼·ã¿ã€‚ä½œæ–‡ãƒ»è¨˜è¿°ã‚’ä¸å¯§ã«ç©ã¿ä¸Šã’ãŸã„å­ã«å‘ãã¾ã™ã€‚",
  "niko-toyosu":"ä½“ç³»çš„ãªãƒ†ã‚­ã‚¹ãƒˆã§å¾©ç¿’ãŒã—ã‚„ã™ã„ã€‚ã‚³ãƒ„ã‚³ãƒ„å‹ã®å­ãŒå®‰å®šã—ã¦ä¼¸ã³ã‚„ã™ã„å°è±¡ã€‚",
  "ichishin-toyosu":"â€œæˆ»ã‚Šå­¦ç¿’â€ã§è‹¦æ‰‹å˜å…ƒã®è¦‹ç›´ã—ãŒã—ã‚„ã™ã„ã€‚åŸºç¤ã®åº•ä¸Šã’ã‚’ç‹™ã„ãŸã„æ™‚ã«ã€‚",
  "yoyogi-toyosu":"æå‡ºç‰©ãƒ»ãƒ¯ãƒ¼ã‚¯ç®¡ç†ã¾ã§ä¼´èµ°ã€‚éƒ¨æ´»ç”Ÿã§ã‚‚é€šã„ã‚„ã™ã„æ™‚é–“è¨­è¨ˆãŒåŠ©ã‹ã‚Šã¾ã™ã€‚",
  "takeda-toyosu":"â€œæˆæ¥­ã‚’ã—ãªã„â€ã§æœ‰åã€‚å¾¹åº•ã—ãŸè‡ªå­¦ç®¡ç†ãŒåˆã†å­ã¯ä¼¸ã³ãŒé€Ÿã„ã€‚å‚è€ƒæ›¸ãƒ«ãƒ¼ãƒˆã®å›ºå®šãŒãƒã‚¤ãƒ³ãƒˆã€‚",
  "visavis-toyosu":"æ „å…‰ã‚¼ãƒŸã®å€‹åˆ¥ç‰ˆã€‚é›†å›£ã¨å€‹åˆ¥ã®ä½µç”¨ã§å¼±ç‚¹ã®ç©´åŸ‹ã‚ãŒã—ã‚„ã™ã„ã®ãŒé­…åŠ›ã€‚",
  "waseda-kobetsu-toyosu":"é›†å›£ã®ç†±é‡ï¼‹å€‹åˆ¥ã®å¾®èª¿æ•´ã€‚å¿—æœ›æ ¡åˆ¥ã®ç´°ã‹ã„èª¿æ•´ã«å¼·ã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚",
  "tomas-toyosu":"å®Œå…¨1å¯¾1ã§æ¿ƒåº¦ãŒé«˜ã„ã€‚å¿—æœ›æ ¡ã‹ã‚‰é€†ç®—ã—ã¦â€œè¦ç‚¹ã ã‘â€ã‚’è©°ã‚ã‚‹æˆ¦ç•¥ãŒãƒãƒã‚Šã¾ã™ã€‚",
  "manavis-toyosu":"æ˜ åƒÃ—ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã§è©°ã¾ã‚Šã‚’è§£æ¶ˆã€‚éƒ¨æ´»ã¨ä¸¡ç«‹ã—ãŸã„é«˜3ç”Ÿã«ç›¸æ€§â—ã€‚",
  "eikoh-links-toyosu":"AIæ¼”ç¿’ã§â€œè‹¦æ‰‹ã ã‘â€ã‚’åŠ¹ç‡å›åã€‚é›†å›£ã¨å€‹åˆ¥ã®æ©‹æ¸¡ã—å½¹ã¨ã—ã¦ä½¿ã„ã‚„ã™ã„ã§ã™ã€‚",
  "tryplus-toyosu":"ä¾¡æ ¼ã‚’æŠ‘ãˆã¤ã¤å€‹åˆ¥ã§ã—ã£ã‹ã‚Šã€‚æå‡ºç‰©ç®¡ç†ã¨å°ãƒ†ã‚¹ãƒˆã®ç©ã¿ä¸Šã’ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆãŒå‰ã€‚"
};

/* ===== ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆã®ä¿å­˜é ˜åŸŸ ===== */
let authorNotes = loadNotes();

/* ===== State ===== */
const PAGE_SIZE=5;
const state={grade:"all",type:"all",location:"all",hideLow:false,sort:"rank",dynamicRank:true,visibleCount:PAGE_SIZE};
const typeSynonyms={"å€‹åˆ¥æŒ‡å°":["å€‹åˆ¥æŒ‡å°","å€‹åˆ¥","1å¯¾1","1å¯¾2"],"é›†å›£æŒ‡å°":["é›†å›£æŒ‡å°","é›†å›£"],"å°‘äººæ•°æŒ‡å°":["å°‘äººæ•°æŒ‡å°","å°‘äººæ•°"],"ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰":["ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰","ãƒã‚¤ãƒ–ãƒª","å€‹åˆ¥+é›†å›£"],"æ˜ åƒ":["æ˜ åƒ","æ˜ åƒæˆæ¥­"]};
const locationPairs={ pair12:["è±Šæ´²1ä¸ç›®","è±Šæ´²2ä¸ç›®"], pair34:["è±Šæ´²3ä¸ç›®","è±Šæ´²4ä¸ç›®"], pair56:["è±Šæ´²5ä¸ç›®","è±Šæ´²6ä¸ç›®"] };
let lastFiltered=[];

document.addEventListener('DOMContentLoaded',()=>{
  // Admin tools
  if(EDIT_MODE){
    const tools=$id('adminTools');
    if(tools){ tools.style.display='block'; tools.setAttribute('aria-hidden','false'); }
    $id('exportNotesBtn')?.addEventListener('click',exportNotes);
    $id('importNotesBtn')?.addEventListener('click',importNotes);
    $id('clearNotesBtn')?.addEventListener('click',clearAllNotes);
    document.addEventListener('click',onInlineNoteButtons);
  }

  bindFilterRows();
  bindControls();
  render();

  const scrollBtn=$id('scrollToList');
  const listSectionEl=$id('listSection');
  if(scrollBtn && listSectionEl){
    scrollBtn.onclick=()=>listSectionEl.scrollIntoView({behavior:'smooth'});
  }
});

/* Filters */
function bindFilterRows(){
  document.querySelectorAll('.chip-row').forEach(row=>{
    row.addEventListener('click',e=>{
      const chip=e.target.closest('.chip'); if(!chip)return;
      row.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
      chip.classList.add('active');
      state[row.dataset.filter]=chip.dataset.value;
      state.visibleCount=PAGE_SIZE;
      render();
    });
  });
}

/* Controlsï¼ˆload more ã®ã¿ï¼‰ */
function bindControls(){
  $id('loadMoreBtn')?.addEventListener('click',()=>{
    state.visibleCount+=PAGE_SIZE;
    render(false);
  });
}

/* Render */
function render(recompute=true){
  const listEl=$id('list'), noEl=$id('noResults'), errEl=$id('errorBox'), metaEl=$id('meta'), loadMoreEl=$id('loadMoreBtn');
  if(!listEl || !noEl || !errEl || !metaEl){ return; }
  errEl.style.display='none';
  if(recompute){
    try{ lastFiltered=data.filter(matchFilters); sortItems(lastFiltered); }
    catch(e){
      errEl.textContent='ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¡ã‚ƒã„ã¾ã—ãŸâ€¦ã‚‚ã†ä¸€åº¦èª­ã¿è¾¼ã‚“ã§ã¿ã¦ãã ã•ã„ï¼ˆè©³ç´°ï¼š'+e.message+'ï¼‰';
      errEl.style.display='block'; return;
    }
  }
  const slice=lastFiltered.slice(0,state.visibleCount);
  listEl.innerHTML='';
  if(!slice.length){ noEl.style.display='block'; }
  else{
    noEl.style.display='none';
    const frag=document.createDocumentFragment();
    slice.forEach(item=>{
      const displayRank=state.dynamicRank?(lastFiltered.indexOf(item)+1):item.originalRank;
      frag.appendChild(buildCard(item,displayRank));
    });
    listEl.appendChild(frag);
  }
  if(loadMoreEl){
    if(state.visibleCount<lastFiltered.length){
      loadMoreEl.style.display='inline-block';
      loadMoreEl.textContent=`ã‚‚ã£ã¨è¦‹ã‚‹ï¼ˆ+${Math.min(PAGE_SIZE,lastFiltered.length-state.visibleCount)}ä»¶ï¼‰`;
    }else{
      loadMoreEl.style.display='none';
    }
  }
  metaEl.textContent=`è¡¨ç¤º ${slice.length}/${lastFiltered.length} ä»¶ï½œå…¨${data.length}ä»¶ä¸­ã€‚å­¦å¹´=${state.grade}ï¼å½¢æ…‹=${state.type}ï¼ã‚¨ãƒªã‚¢=${locationLabel(state.location)}`;
}

/* Helpers */
function matchFilters(d){
  if(state.grade!=='all' && !d.grades.includes(state.grade)) return false;
  if(state.type!=='all'){
    const syn=typeSynonyms[state.type]||[state.type];
    if(!syn.some(s=>d.type.includes(s))) return false;
  }
  if(state.location!=='all'){
    const loc=d.location;
    if(locationPairs[state.location]){
      if(!locationPairs[state.location].includes(loc)) return false;
    }else{
      if(loc!==state.location) return false;
    }
  }
  if(state.hideLow && d.rating<3.3) return false;
  return true;
}
function sortItems(arr){
  arr.sort((a,b)=>{
    switch(state.sort){
      case 'rank': return a.originalRank-b.originalRank;
      case 'rating': return b.rating-a.rating;
      case 'priceLow': return a.priceFrom-b.priceFrom;
      case 'priceHigh': return b.priceFrom-a.priceFrom;
      default: return 0;
    }
  });
}
function nl2brSafe(str){return escapeHtml(str).replace(/\n/g,'<br>');}
function escapeHtml(str){
  return String(str).replace(/[&<>"']/g, s => ({
    "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
  })[s]);
}
function truncate(str,len){return str.length>len?str.slice(0,len-1)+'â€¦':str;}
function formatGrades(gs){const map={elementary:'å°',junior:'ä¸­',high:'é«˜'};return gs.map(g=>map[g]||g).join('ãƒ»');}
function locationLabel(v){
  switch(v){
    case 'all': return 'å…¨åŸŸ';
    case 'pair12': return '1ãƒ»2ä¸ç›®';
    case 'pair34': return '3ãƒ»4ä¸ç›®';
    case 'pair56': return '5ãƒ»6ä¸ç›®';
    default: return v;
  }
}
/* æ–™é‡‘ã®æ®µéšè¡¨ç¤ºï¼ˆå°/ä¸­/å¤§ï¼‰ */
function priceSizeLabel(priceFrom){
  const p = Number(priceFrom||0);
  if(p <= 12000) return 'å°';
  if(p <= 20000) return 'ä¸­';
  return 'å¤§';
}

/* Card */
function buildCard(d,displayRank){
  const isTop3 = displayRank <= 3;
  const tier = isTop3 ? 'S' : displayRank <= 10 ? 'A' : displayRank <= 20 ? 'B' : 'C';
  const card=document.createElement('article');
  card.className='card clickable'+(isTop3?' top3':'');
  card.setAttribute('role','listitem');
  card.setAttribute('data-tier',tier);

  const level=d.rating>=4.2?'high':d.rating>=3.6?'mid':'low';
  const showSub=state.dynamicRank && displayRank!==d.originalRank;
  const revs=d.reviews||[];
  const snippets=revs.slice().sort((a,b)=>new Date(b.date)-new Date(a.date)).slice(0,3);
  const note = (authorNotes[d.slug] ?? defaultNotes[d.slug] ?? generateTemplate(d));
  const priceSize = priceSizeLabel(d.priceFrom);

  card.innerHTML=`
    <div class="rank-badge ${isTop3?'rank-top-3':''}" title="å…¬å¼é †ä½: ${d.originalRank}">
      <div class="rank-num"><span>${displayRank}ä½</span>${isTop3?'<span class="crown" aria-hidden="true">ğŸ‘‘</span>':''}</div>
      ${showSub?`<small>å…¬å¼${d.originalRank}</small>`:''}
    </div>
    <div class="thumb-wrap">${d.img?`<img src="${d.img}" alt="${escapeHtml(d.name)} å¤–è¦³" loading="lazy" decoding="async">`:''}</div>
    <div class="brand-line"><span class="dot" aria-hidden="true">â—</span>${escapeHtml(d.brand)}</div>
    <h3 class="juku-name">${escapeHtml(d.name)}</h3>
    <div class="rating-row">
      <span class="rating-pill" data-level="${level}" title="è©•ä¾¡ ${d.rating.toFixed(1)}">â˜… ${d.rating.toFixed(1)}</span>
      <span aria-hidden="true" style="font-size:1.05rem;letter-spacing:.02em">${d.rating>=4.5?'â­â­â­â­â­':d.rating>=4.0?'â­â­â­â­â˜†':'â­â­â­â˜†â˜†'}</span>
    </div>
    <p class="summary">${escapeHtml(d.summary)}</p>

    <div class="author-note">
      <span class="badge"><span aria-hidden="true">âœï¸</span> ç§ã‹ã‚‰ã®ä¸€è¨€</span>
      <div class="text">${nl2brSafe(note)}</div>
    </div>

    ${EDIT_MODE?`
      <button class="note-edit-btn" data-edit-note="${d.slug}">${authorNotes[d.slug]?'âœï¸ ä¸€è¨€ã‚’ç·¨é›†':'ï¼‹ ä¸€è¨€ã‚’è¿½åŠ '}</button>
    `:''}

    ${snippets.length?renderSnippets(snippets):''}

    <div class="tags">
      <span class="tag"><span aria-hidden="true">ğŸ“</span>${escapeHtml(d.location)}</span>
      ${d.grades.includes('elementary')?'<span class="tag"><span aria-hidden="true">ğŸ§’</span>å°</span>':''}
      ${d.grades.includes('junior')?'<span class="tag"><span aria-hidden="true">ğŸ‘¦</span>ä¸­</span>':''}
      ${d.grades.includes('high')?'<span class="tag"><span aria-hidden="true">ğŸ“</span>é«˜</span>':''}
      ${d.style.map(s=>`<span class="tag"><span aria-hidden="true">ğŸ·ï¸</span>${escapeHtml(s)}</span>`).join('')}
    </div>

    <div class="spec-grid">
      <div class="spec"><strong><span class="icon" aria-hidden="true">ğŸš¶</span>ã‚¢ã‚¯ã‚»ã‚¹</strong><span>${escapeHtml(d.access||'-')}</span></div>
      <div class="spec"><strong><span class="icon" aria-hidden="true">ğŸ’</span>å¯¾è±¡</strong><span>${escapeHtml(formatGrades(d.grades))}</span></div>
      <div class="spec"><strong><span class="icon" aria-hidden="true">ğŸ§­</span>å½¢æ…‹</strong><span>${escapeHtml(d.type)}</span></div>
      <div class="spec"><strong><span class="icon" aria-hidden="true">ğŸ’´</span>æ–™é‡‘</strong><span>${priceSize}</span></div>
    </div>

    <div class="actions">
      <a href="${d.url || '#'}" target="_blank" rel="noopener noreferrer" class="link-btn primary cta-pricing" aria-label="${escapeHtml(d.name)} æ–™é‡‘è©³ç´°ã¯ã‚³ãƒãƒ©">
        <span class="icon" aria-hidden="true">ğŸ”—</span>æ–™é‡‘è©³ç´°ã¯ã‚³ãƒãƒ© <span class="icon" aria-hidden="true">â†—</span>
      </a>
    </div>`;

  // ã‚«ãƒ¼ãƒ‰å…¨ä½“ã‚¯ãƒªãƒƒã‚¯ã§å…¬å¼ã‚µã‚¤ãƒˆï¼ˆãƒ•ã‚©ãƒ¼ãƒ æ“ä½œã‚„ãƒªãƒ³ã‚¯ã¯é™¤å¤–ï¼‰
  card.addEventListener('click',(e)=>{
    if(e.defaultPrevented) return;
    if(e.target.closest('a,button,textarea,input,select,label')) return;
    if(d.url){ window.open(d.url,'_blank','noopener'); }
  });

  return card;
}

/* å£ã‚³ãƒŸã‚¹ãƒ‹ãƒšãƒƒãƒˆ */
function renderSnippets(snips){
  let html=`<div class="review-snippets">`;
  snips.forEach(s=>{
    html+=`
      <div class="snip">
        <div class="snip-head">
          <span>${escapeHtml(s.author)}</span>
          <span class="star">â˜…${s.rating}</span>
          <time datetime="${s.date}">${s.date}</time>
        </div>
        <div class="snip-body">${escapeHtml(truncate(s.text,74))}</div>
      </div>`;
  });
  html+=`</div>`;
  return html;
}

/* ===== ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆã®ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†ï¼ˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰æ™‚ï¼‰ ===== */
function onInlineNoteButtons(e){
  const editBtn = e.target.closest('[data-edit-note]');
  if(editBtn){
    e.preventDefault(); e.stopPropagation();
    const slug = editBtn.dataset.editNote;
    const card = editBtn.closest('.card');
    const existingEditor = card.querySelector('.note-inline-editor');
    if(existingEditor){ existingEditor.remove(); }

    const editor = document.createElement('div');
    editor.className='note-inline-editor';
    editor.innerHTML=`
      <textarea>${escapeHtml(authorNotes[slug]||'')}</textarea>
      <div class="buttons">
        <button class="btn" data-template-note="${slug}">ã²ãªå½¢æŒ¿å…¥</button>
        <button class="btn primary" data-save-note="${slug}">ä¿å­˜</button>
        <button class="btn" data-cancel-note>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
        ${authorNotes[slug]?'<button class="btn danger" data-delete-note="'+slug+'">å‰Šé™¤</button>':''}
      </div>
      <div class="small" style="color:#6a5a50">ãƒ’ãƒ³ãƒˆï¼š3è¡Œï¼ˆå¯¾è±¡/æ³¨æ„/ã‚³ãƒ„ï¼‰ã§ã¾ã¨ã‚ã‚‹ã¨èª­ã¿ã‚„ã™ã„ã§ã™ã€‚</div>
    `;
    editBtn.insertAdjacentElement('afterend', editor);
    editor.querySelector('textarea')?.focus();
    return;
  }

  const tmpl = e.target.closest('[data-template-note]');
  if(tmpl){
    e.preventDefault(); e.stopPropagation();
    const slug = tmpl.dataset.templateNote;
    const d = data.find(x=>x.slug===slug);
    const editor = tmpl.closest('.note-inline-editor');
    if(d && editor){
      const ta = editor.querySelector('textarea');
      ta.value = generateTemplate(d);
      ta.focus();
    }
    return;
  }

  const saveBtn = e.target.closest('[data-save-note]');
  if(saveBtn){
    e.preventDefault(); e.stopPropagation();
    const slug = saveBtn.dataset.saveNote;
    const editor = saveBtn.closest('.note-inline-editor');
    const text = editor.querySelector('textarea').value.trim();
    if(text){ authorNotes[slug]=text; } else { delete authorNotes[slug]; }
    saveNotes();
    render(false);
    return;
  }

  if(e.target.closest('[data-cancel-note]')){
    e.preventDefault(); e.stopPropagation();
    e.target.closest('.note-inline-editor')?.remove();
    return;
  }

  const delBtn = e.target.closest('[data-delete-note]');
  if(delBtn){
    e.preventDefault(); e.stopPropagation();
    const slug = delBtn.dataset.deleteNote;
    if(confirm('ã“ã®ã€Œä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')){
      delete authorNotes[slug];
      saveNotes();
      render(false);
    }
    return;
  }
}

/* è‡ªå‹•ã²ãªå½¢ç”Ÿæˆï¼ˆä¸è¶³æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰ */
function generateTemplate(d){
  const target = `${formatGrades(d.grades)}ãƒ»${d.type}`;
  const strong = (d.style && d.style.length)? d.style[0] : (d.type||'æŒ‡å°');
  const caution = d.type.includes('é›†å›£') ? 'èª²é¡Œé‡' : d.type.includes('å€‹åˆ¥') ? 'æŒ¯æ›¿/ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«' : 'è² æ‹…æ„Ÿ';
  const trick = d.type.includes('æ˜ åƒ') ? 'è¦–è´ãƒšãƒ¼ã‚¹ã¨å¾©ç¿’ã‚¿ã‚¤ãƒŸãƒ³ã‚°' : 'å¾©ç¿’ã®æ›œæ—¥ã¨æ™‚é–“å¸¯';
  return `ã€å¯¾è±¡ã€‘${target}ã«åˆã†å°è±¡ã€‚${å¼·ã¿strong}ãŒå®‰å¿ƒææ–™ã§ã—ãŸã€‚
ã€æ³¨æ„ã€‘${caution}ã¯ã€Œå›ºå®šã®æ›œæ—¥ãƒ»æ™‚é–“ã€ã‚’æ±ºã‚ã‚‹å·¥å¤«ã§å¸åå¯èƒ½ã€‚
ã€ã‚³ãƒ„ã€‘${trick}ã‚’å…ˆã«æ±ºã‚ã‚‹ã¨é€²ã¿ãŒå®‰å®šã€‚`;
}

/* ===== Notes storage, export/import ===== */
function loadNotes(){
  try{
    const raw=localStorage.getItem(NOTE_STORAGE_KEY);
    return raw? JSON.parse(raw) : {};
  }catch{ return {}; }
}
function saveNotes(){
  localStorage.setItem(NOTE_STORAGE_KEY, JSON.stringify(authorNotes));
}
async function exportNotes(){
  const json = JSON.stringify(authorNotes, null, 2);
  try{
    await navigator.clipboard.writeText(json);
    alert('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\nï¼ˆJSONã‚’ä¿ç®¡ã—ã¦ãŠãã¨å¼•ã£è¶Šã—ã‚‚å®‰å¿ƒã§ã™ï¼‰');
  }catch{
    prompt('ã‚³ãƒ”ãƒ¼ã§ããªã„ç’°å¢ƒã§ã™ã€‚ä¸‹ã®JSONã‚’æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚', json);
  }
}
function importNotes(){
  const raw = prompt('JSONã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ï¼ˆç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã¯ä¸Šæ›¸ãã•ã‚Œã¾ã™ï¼‰','{}');
  if(!raw) return;
  try{
    const obj = JSON.parse(raw);
    if(typeof obj !== 'object' || Array.isArray(obj)) throw new Error('å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“');
    if(!confirm('ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã¨æ—¢å­˜ã®ã€Œä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆã€ã¯ä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) return;
    authorNotes = obj;
    saveNotes();
    render();
    alert('ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸï¼');
  }catch(e){
    alert('èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸï¼š'+e.message);
  }
}
function clearAllNotes(){
  if(!confirm('å…¨ã¦ã®ã€Œä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚')) return;
  authorNotes = {};
  saveNotes();
  render();
  alert('ã™ã¹ã¦å‰Šé™¤ã—ã¾ã—ãŸã€‚');
}

/* Detail æ®‹ç½®ï¼ˆæœªä½¿ç”¨ï¼‰ */
const closeDetail=$id('closeDetail');
closeDetail?.addEventListener('click',()=>{ 
  const overlay=$id('detailOverlay');
  if(overlay){ overlay.style.display='none'; overlay.setAttribute('aria-hidden','true'); }
});
</script>
</body>
</html>
